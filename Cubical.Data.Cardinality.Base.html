<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Data.Cardinality.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

This file contains:

- Treatment of set truncation as cardinality
  as per the HoTT book, section 10.2

-}</a>
<a id="112" class="Symbol">{-#</a> <a id="116" class="Keyword">OPTIONS</a> <a id="124" class="Pragma">--safe</a> <a id="131" class="Symbol">#-}</a>
<a id="135" class="Keyword">module</a> <a id="142" href="Cubical.Data.Cardinality.Base.html" class="Module">Cubical.Data.Cardinality.Base</a> <a id="172" class="Keyword">where</a>

<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Cubical.HITs.SetTruncation.html" class="Module">Cubical.HITs.SetTruncation</a> <a id="218" class="Symbol">as</a> <a id="221" class="Module">∥₂</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="264" class="Keyword">open</a> <a id="269" class="Keyword">import</a> <a id="276" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="366" class="Keyword">open</a> <a id="371" class="Keyword">import</a> <a id="378" href="Cubical.Data.Sum.html" class="Module">Cubical.Data.Sum</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a>

<a id="426" class="Keyword">private</a>
  <a id="436" class="Keyword">variable</a>
    <a id="449" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a> <a id="451" class="Symbol">:</a> <a id="453" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="460" class="Comment">-- First, we define a cardinal as the set truncation of Set</a>
<a id="Card"></a><a id="520" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="525" class="Symbol">:</a> <a id="527" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="532" class="Symbol">(</a><a id="533" href="Agda.Primitive.html#931" class="Primitive">ℓ-suc</a> <a id="539" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="540" class="Symbol">)</a>
<a id="542" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="547" class="Symbol">{</a><a id="548" href="Cubical.Data.Cardinality.Base.html#548" class="Bound">ℓ</a><a id="549" class="Symbol">}</a> <a id="551" class="Symbol">=</a> <a id="553" href="Cubical.HITs.SetTruncation.Base.html#260" class="Datatype Operator">∥</a> <a id="555" href="Cubical.Foundations.HLevels.html#2024" class="Function">hSet</a> <a id="560" href="Cubical.Data.Cardinality.Base.html#548" class="Bound">ℓ</a> <a id="562" href="Cubical.HITs.SetTruncation.Base.html#260" class="Datatype Operator">∥₂</a>

<a id="566" class="Comment">-- Verify that it&#39;s a set</a>
<a id="isSetCard"></a><a id="592" href="Cubical.Data.Cardinality.Base.html#592" class="Function">isSetCard</a> <a id="602" class="Symbol">:</a> <a id="604" href="Cubical.Foundations.Prelude.html#14300" class="Function">isSet</a> <a id="610" class="Symbol">(</a><a id="611" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="616" class="Symbol">{</a><a id="617" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="618" class="Symbol">})</a>
<a id="621" href="Cubical.Data.Cardinality.Base.html#592" class="Function">isSetCard</a> <a id="631" class="Symbol">=</a> <a id="633" href="Cubical.HITs.SetTruncation.Properties.html#8962" class="Function">isSetSetTrunc</a>

<a id="648" class="Comment">-- Set truncation of a set is its cardinality</a>
<a id="card"></a><a id="694" href="Cubical.Data.Cardinality.Base.html#694" class="Function">card</a> <a id="699" class="Symbol">:</a> <a id="701" href="Cubical.Foundations.HLevels.html#2024" class="Function">hSet</a> <a id="706" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a> <a id="708" class="Symbol">→</a> <a id="710" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="715" class="Symbol">{</a><a id="716" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="717" class="Symbol">}</a>
<a id="719" href="Cubical.Data.Cardinality.Base.html#694" class="Function">card</a> <a id="724" class="Symbol">=</a> <a id="726" href="Cubical.HITs.SetTruncation.Base.html#299" class="InductiveConstructor Operator">∣_∣₂</a>

<a id="732" class="Comment">-- Some special cardinalities</a>
<a id="𝟘"></a><a id="762" href="Cubical.Data.Cardinality.Base.html#762" class="Function">𝟘</a> <a id="764" class="Symbol">:</a> <a id="766" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="771" class="Symbol">{</a><a id="772" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="773" class="Symbol">}</a>
<a id="775" href="Cubical.Data.Cardinality.Base.html#762" class="Function">𝟘</a> <a id="777" class="Symbol">=</a> <a id="779" href="Cubical.Data.Cardinality.Base.html#694" class="Function">card</a> <a id="784" class="Symbol">(</a><a id="785" href="Cubical.Data.Empty.Base.html#162" class="Function">⊥*</a> <a id="788" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="790" href="Cubical.Foundations.Prelude.html#18522" class="Function">isProp→isSet</a> <a id="803" href="Cubical.Data.Empty.Properties.html#259" class="Function">isProp⊥*</a><a id="811" class="Symbol">)</a>

<a id="𝟙"></a><a id="814" href="Cubical.Data.Cardinality.Base.html#814" class="Function">𝟙</a> <a id="816" class="Symbol">:</a> <a id="818" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="823" class="Symbol">{</a><a id="824" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="825" class="Symbol">}</a>
<a id="827" href="Cubical.Data.Cardinality.Base.html#814" class="Function">𝟙</a> <a id="829" class="Symbol">=</a> <a id="831" href="Cubical.Data.Cardinality.Base.html#694" class="Function">card</a> <a id="836" class="Symbol">(</a><a id="837" href="Cubical.Data.Unit.Base.html#212" class="Function">Unit*</a> <a id="843" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="845" href="Cubical.Data.Unit.Properties.html#2833" class="Function">isSetUnit*</a><a id="855" class="Symbol">)</a>

<a id="858" class="Comment">-- Now we define some arithmetic</a>
<a id="_+_"></a><a id="891" href="Cubical.Data.Cardinality.Base.html#891" class="Function Operator">_+_</a> <a id="895" class="Symbol">:</a> <a id="897" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="902" class="Symbol">{</a><a id="903" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="904" class="Symbol">}</a> <a id="906" class="Symbol">→</a> <a id="908" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="913" class="Symbol">{</a><a id="914" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="915" class="Symbol">}</a> <a id="917" class="Symbol">→</a> <a id="919" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="924" class="Symbol">{</a><a id="925" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="926" class="Symbol">}</a>
<a id="928" href="Cubical.Data.Cardinality.Base.html#891" class="Function Operator">_+_</a> <a id="932" class="Symbol">=</a> <a id="934" href="Cubical.HITs.SetTruncation.Properties.html#995" class="Function">∥₂.rec2</a> <a id="942" href="Cubical.Data.Cardinality.Base.html#592" class="Function">isSetCard</a> <a id="952" class="Symbol">λ</a> <a id="954" class="Symbol">(</a><a id="955" href="Cubical.Data.Cardinality.Base.html#955" class="Bound">A</a> <a id="957" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="959" href="Cubical.Data.Cardinality.Base.html#959" class="Bound">isSetA</a><a id="965" class="Symbol">)</a> <a id="967" class="Symbol">(</a><a id="968" href="Cubical.Data.Cardinality.Base.html#968" class="Bound">B</a> <a id="970" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="972" href="Cubical.Data.Cardinality.Base.html#972" class="Bound">isSetB</a><a id="978" class="Symbol">)</a>
                        <a id="1004" class="Symbol">→</a> <a id="1006" href="Cubical.Data.Cardinality.Base.html#694" class="Function">card</a> <a id="1011" class="Symbol">((</a><a id="1013" href="Cubical.Data.Cardinality.Base.html#955" class="Bound">A</a> <a id="1015" href="Cubical.Data.Sum.Base.html#203" class="Datatype Operator">⊎</a> <a id="1017" href="Cubical.Data.Cardinality.Base.html#968" class="Bound">B</a><a id="1018" class="Symbol">)</a> <a id="1020" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1022" href="Cubical.Data.Sum.Properties.html#3619" class="Function">isSet⊎</a> <a id="1029" href="Cubical.Data.Cardinality.Base.html#959" class="Bound">isSetA</a> <a id="1036" href="Cubical.Data.Cardinality.Base.html#972" class="Bound">isSetB</a><a id="1042" class="Symbol">)</a>

<a id="_·_"></a><a id="1045" href="Cubical.Data.Cardinality.Base.html#1045" class="Function Operator">_·_</a> <a id="1049" class="Symbol">:</a> <a id="1051" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="1056" class="Symbol">{</a><a id="1057" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="1058" class="Symbol">}</a> <a id="1060" class="Symbol">→</a> <a id="1062" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="1067" class="Symbol">{</a><a id="1068" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="1069" class="Symbol">}</a> <a id="1071" class="Symbol">→</a> <a id="1073" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="1078" class="Symbol">{</a><a id="1079" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="1080" class="Symbol">}</a>
<a id="1082" href="Cubical.Data.Cardinality.Base.html#1045" class="Function Operator">_·_</a> <a id="1086" class="Symbol">=</a> <a id="1088" href="Cubical.HITs.SetTruncation.Properties.html#995" class="Function">∥₂.rec2</a> <a id="1096" href="Cubical.Data.Cardinality.Base.html#592" class="Function">isSetCard</a> <a id="1106" class="Symbol">λ</a> <a id="1108" class="Symbol">(</a><a id="1109" href="Cubical.Data.Cardinality.Base.html#1109" class="Bound">A</a> <a id="1111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1113" href="Cubical.Data.Cardinality.Base.html#1113" class="Bound">isSetA</a><a id="1119" class="Symbol">)</a> <a id="1121" class="Symbol">(</a><a id="1122" href="Cubical.Data.Cardinality.Base.html#1122" class="Bound">B</a> <a id="1124" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1126" href="Cubical.Data.Cardinality.Base.html#1126" class="Bound">isSetB</a><a id="1132" class="Symbol">)</a>
                        <a id="1158" class="Symbol">→</a> <a id="1160" href="Cubical.Data.Cardinality.Base.html#694" class="Function">card</a> <a id="1165" class="Symbol">((</a><a id="1167" href="Cubical.Data.Cardinality.Base.html#1109" class="Bound">A</a> <a id="1169" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="1171" href="Cubical.Data.Cardinality.Base.html#1122" class="Bound">B</a><a id="1172" class="Symbol">)</a> <a id="1174" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1176" href="Cubical.Foundations.HLevels.html#14523" class="Function">isSet×</a> <a id="1183" href="Cubical.Data.Cardinality.Base.html#1113" class="Bound">isSetA</a> <a id="1190" href="Cubical.Data.Cardinality.Base.html#1126" class="Bound">isSetB</a><a id="1196" class="Symbol">)</a>

<a id="_^_"></a><a id="1199" href="Cubical.Data.Cardinality.Base.html#1199" class="Function Operator">_^_</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="1210" class="Symbol">{</a><a id="1211" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="1212" class="Symbol">}</a> <a id="1214" class="Symbol">→</a> <a id="1216" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="1221" class="Symbol">{</a><a id="1222" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="1223" class="Symbol">}</a> <a id="1225" class="Symbol">→</a> <a id="1227" href="Cubical.Data.Cardinality.Base.html#520" class="Function">Card</a> <a id="1232" class="Symbol">{</a><a id="1233" href="Cubical.Data.Cardinality.Base.html#449" class="Generalizable">ℓ</a><a id="1234" class="Symbol">}</a>
<a id="1236" href="Cubical.Data.Cardinality.Base.html#1199" class="Function Operator">_^_</a> <a id="1240" class="Symbol">=</a> <a id="1242" href="Cubical.HITs.SetTruncation.Properties.html#995" class="Function">∥₂.rec2</a> <a id="1250" href="Cubical.Data.Cardinality.Base.html#592" class="Function">isSetCard</a> <a id="1260" class="Symbol">λ</a> <a id="1262" class="Symbol">(</a><a id="1263" href="Cubical.Data.Cardinality.Base.html#1263" class="Bound">A</a> <a id="1265" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1267" href="Cubical.Data.Cardinality.Base.html#1267" class="Bound">isSetA</a><a id="1273" class="Symbol">)</a> <a id="1275" class="Symbol">(</a><a id="1276" href="Cubical.Data.Cardinality.Base.html#1276" class="Bound">B</a> <a id="1278" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1280" class="Symbol">_)</a>
                        <a id="1307" class="Symbol">→</a> <a id="1309" href="Cubical.Data.Cardinality.Base.html#694" class="Function">card</a> <a id="1314" class="Symbol">((</a><a id="1316" href="Cubical.Data.Cardinality.Base.html#1276" class="Bound">B</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="Cubical.Data.Cardinality.Base.html#1263" class="Bound">A</a><a id="1321" class="Symbol">)</a> <a id="1323" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1325" href="Cubical.Foundations.HLevels.html#18148" class="Function">isSet→</a> <a id="1332" href="Cubical.Data.Cardinality.Base.html#1267" class="Bound">isSetA</a><a id="1338" class="Symbol">)</a>
</pre></body></html>