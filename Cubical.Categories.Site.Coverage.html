<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Categories.Site.Coverage</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Cubical.Categories.Site.Coverage.html" class="Module">Cubical.Categories.Site.Coverage</a> <a id="64" class="Keyword">where</a>

<a id="71" class="Comment">-- Definition of a coverage on a category, also called a Grothendieck topology.</a>
<a id="151" class="Comment">-- A coverage on a category turns it into a site</a>
<a id="200" class="Comment">-- and enables us to formulate a sheaf condition.</a>

<a id="251" class="Comment">-- We stay close to the definitions given in the nLab and the Elephant:</a>
<a id="323" class="Comment">-- * https://ncatlab.org/nlab/show/coverage</a>
<a id="367" class="Comment">-- * Peter Johnstone, &quot;Sketches of an Elephant&quot; (Definition C2.1.1)</a>

<a id="436" class="Comment">-- While the covers are just families of arrows,</a>
<a id="485" class="Comment">-- we use the notion of sieves to express the &quot;pullback stability&quot; property of the coverage.</a>

<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="619" class="Keyword">open</a> <a id="624" class="Keyword">import</a> <a id="631" href="Cubical.Foundations.Structure.html" class="Module">Cubical.Foundations.Structure</a>
<a id="661" class="Keyword">open</a> <a id="666" class="Keyword">import</a> <a id="673" href="Cubical.HITs.PropositionalTruncation.html" class="Module">Cubical.HITs.PropositionalTruncation</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>

<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="Cubical.Categories.Category.html" class="Module">Cubical.Categories.Category</a>
<a id="782" class="Keyword">open</a> <a id="787" class="Keyword">import</a> <a id="794" href="Cubical.Categories.Site.Cover.html" class="Module">Cubical.Categories.Site.Cover</a>
<a id="824" class="Keyword">open</a> <a id="829" class="Keyword">import</a> <a id="836" href="Cubical.Categories.Site.Sieve.html" class="Module">Cubical.Categories.Site.Sieve</a>

<a id="867" class="Keyword">module</a> <a id="874" href="Cubical.Categories.Site.Coverage.html#874" class="Module">_</a>
  <a id="878" class="Symbol">{</a><a id="879" href="Cubical.Categories.Site.Coverage.html#879" class="Bound">ℓ</a> <a id="881" href="Cubical.Categories.Site.Coverage.html#881" class="Bound">ℓ&#39;</a> <a id="884" class="Symbol">:</a> <a id="886" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="891" class="Symbol">}</a>
  <a id="895" class="Symbol">(</a><a id="896" href="Cubical.Categories.Site.Coverage.html#896" class="Bound">C</a> <a id="898" class="Symbol">:</a> <a id="900" href="Cubical.Categories.Category.Base.html#334" class="Record">Category</a> <a id="909" href="Cubical.Categories.Site.Coverage.html#879" class="Bound">ℓ</a> <a id="911" href="Cubical.Categories.Site.Coverage.html#881" class="Bound">ℓ&#39;</a><a id="913" class="Symbol">)</a>
  <a id="917" class="Keyword">where</a>

  <a id="926" class="Keyword">open</a> <a id="931" href="Cubical.Categories.Category.Base.html#334" class="Module">Category</a> <a id="940" href="Cubical.Categories.Site.Coverage.html#896" class="Bound">C</a>

  <a id="945" class="Keyword">record</a> <a id="952" href="Cubical.Categories.Site.Coverage.html#952" class="Record">Coverage</a> <a id="961" class="Symbol">(</a><a id="962" href="Cubical.Categories.Site.Coverage.html#962" class="Bound">ℓcov</a> <a id="967" href="Cubical.Categories.Site.Coverage.html#967" class="Bound">ℓpat</a> <a id="972" class="Symbol">:</a> <a id="974" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="979" class="Symbol">)</a> <a id="981" class="Symbol">:</a> <a id="983" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="988" class="Symbol">(</a><a id="989" href="Agda.Primitive.html#961" class="Primitive">ℓ-max</a> <a id="995" href="Cubical.Categories.Site.Coverage.html#879" class="Bound">ℓ</a> <a id="997" class="Symbol">(</a><a id="998" href="Agda.Primitive.html#961" class="Primitive">ℓ-max</a> <a id="1004" href="Cubical.Categories.Site.Coverage.html#881" class="Bound">ℓ&#39;</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Agda.Primitive.html#931" class="Primitive">ℓ-suc</a> <a id="1014" class="Symbol">(</a><a id="1015" href="Agda.Primitive.html#961" class="Primitive">ℓ-max</a> <a id="1021" href="Cubical.Categories.Site.Coverage.html#962" class="Bound">ℓcov</a> <a id="1026" href="Cubical.Categories.Site.Coverage.html#967" class="Bound">ℓpat</a><a id="1030" class="Symbol">))))</a> <a id="1035" class="Keyword">where</a>
    <a id="1045" class="Keyword">no-eta-equality</a>
    <a id="1065" class="Keyword">field</a>
      <a id="1077" href="Cubical.Categories.Site.Coverage.html#1077" class="Field">covers</a> <a id="1084" class="Symbol">:</a> <a id="1086" class="Symbol">(</a><a id="1087" href="Cubical.Categories.Site.Coverage.html#1087" class="Bound">c</a> <a id="1089" class="Symbol">:</a> <a id="1091" href="Cubical.Categories.Category.Base.html#452" class="Field">ob</a><a id="1093" class="Symbol">)</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Cubical.Foundations.Structure.html#401" class="Function">TypeWithStr</a> <a id="1109" href="Cubical.Categories.Site.Coverage.html#962" class="Bound">ℓcov</a> <a id="1114" class="Symbol">λ</a> <a id="1116" href="Cubical.Categories.Site.Coverage.html#1116" class="Bound">Cov</a> <a id="1120" class="Symbol">→</a> <a id="1122" href="Cubical.Categories.Site.Coverage.html#1116" class="Bound">Cov</a> <a id="1126" class="Symbol">→</a> <a id="1128" class="Symbol">(</a><a id="1129" href="Cubical.Categories.Site.Cover.html#495" class="Function">Cover</a> <a id="1135" href="Cubical.Categories.Site.Coverage.html#896" class="Bound">C</a> <a id="1137" href="Cubical.Categories.Site.Coverage.html#967" class="Bound">ℓpat</a> <a id="1142" href="Cubical.Categories.Site.Coverage.html#1087" class="Bound">c</a><a id="1143" class="Symbol">)</a>
      <a id="1151" href="Cubical.Categories.Site.Coverage.html#1151" class="Field">pullbackStability</a> <a id="1169" class="Symbol">:</a>
        <a id="1179" class="Symbol">{</a><a id="1180" href="Cubical.Categories.Site.Coverage.html#1180" class="Bound">c</a> <a id="1182" class="Symbol">:</a> <a id="1184" href="Cubical.Categories.Category.Base.html#452" class="Field">ob</a><a id="1186" class="Symbol">}</a> <a id="1188" class="Symbol">→</a>
        <a id="1198" class="Symbol">(</a><a id="1199" href="Cubical.Categories.Site.Coverage.html#1199" class="Bound">cov</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="Cubical.Foundations.Structure.html#642" class="Function Operator">⟨</a> <a id="1207" href="Cubical.Categories.Site.Coverage.html#1077" class="Field">covers</a> <a id="1214" href="Cubical.Categories.Site.Coverage.html#1180" class="Bound">c</a> <a id="1216" href="Cubical.Foundations.Structure.html#642" class="Function Operator">⟩</a><a id="1217" class="Symbol">)</a> <a id="1219" class="Symbol">→</a>
        <a id="1229" class="Symbol">{</a><a id="1230" href="Cubical.Categories.Site.Coverage.html#1230" class="Bound">d</a> <a id="1232" class="Symbol">:</a> <a id="1234" href="Cubical.Categories.Category.Base.html#452" class="Field">ob</a><a id="1236" class="Symbol">}</a> <a id="1238" class="Symbol">→</a>
        <a id="1248" class="Symbol">(</a><a id="1249" href="Cubical.Categories.Site.Coverage.html#1249" class="Bound">f</a> <a id="1251" class="Symbol">:</a> <a id="1253" href="Cubical.Categories.Category.Base.html#468" class="Field Operator">Hom[</a> <a id="1258" href="Cubical.Categories.Site.Coverage.html#1230" class="Bound">d</a> <a id="1260" href="Cubical.Categories.Category.Base.html#468" class="Field Operator">,</a> <a id="1262" href="Cubical.Categories.Site.Coverage.html#1180" class="Bound">c</a> <a id="1264" href="Cubical.Categories.Category.Base.html#468" class="Field Operator">]</a><a id="1265" class="Symbol">)</a> <a id="1267" class="Symbol">→</a>
        <a id="1277" href="Cubical.Data.Sigma.Base.html#682" class="Function">∃[</a> <a id="1280" href="Cubical.Categories.Site.Coverage.html#1280" class="Bound">cov&#39;</a> <a id="1285" href="Cubical.Data.Sigma.Base.html#682" class="Function">∈</a> <a id="1287" href="Cubical.Foundations.Structure.html#642" class="Function Operator">⟨</a> <a id="1289" href="Cubical.Categories.Site.Coverage.html#1077" class="Field">covers</a> <a id="1296" href="Cubical.Categories.Site.Coverage.html#1230" class="Bound">d</a> <a id="1298" href="Cubical.Foundations.Structure.html#642" class="Function Operator">⟩</a> <a id="1300" href="Cubical.Data.Sigma.Base.html#682" class="Function">]</a>
          <a id="1312" href="Cubical.Categories.Site.Sieve.html#2062" class="Function">coverRefinesSieve</a>
            <a id="1342" class="Symbol">(</a><a id="1343" href="Cubical.Foundations.Structure.html#559" class="Function">str</a> <a id="1347" class="Symbol">(</a><a id="1348" href="Cubical.Categories.Site.Coverage.html#1077" class="Field">covers</a> <a id="1355" href="Cubical.Categories.Site.Coverage.html#1230" class="Bound">d</a><a id="1356" class="Symbol">)</a> <a id="1358" href="Cubical.Categories.Site.Coverage.html#1280" class="Bound">cov&#39;</a><a id="1362" class="Symbol">)</a>
            <a id="1376" class="Symbol">(</a><a id="1377" href="Cubical.Categories.Site.Sieve.html#3129" class="Function">pulledBackSieve</a> <a id="1393" href="Cubical.Categories.Site.Coverage.html#1249" class="Bound">f</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Cubical.Categories.Site.Sieve.html#1501" class="Function">generatedSieve</a> <a id="1411" class="Symbol">(</a><a id="1412" href="Cubical.Foundations.Structure.html#559" class="Function">str</a> <a id="1416" class="Symbol">(</a><a id="1417" href="Cubical.Categories.Site.Coverage.html#1077" class="Field">covers</a> <a id="1424" href="Cubical.Categories.Site.Coverage.html#1180" class="Bound">c</a><a id="1425" class="Symbol">)</a> <a id="1427" href="Cubical.Categories.Site.Coverage.html#1199" class="Bound">cov</a><a id="1430" class="Symbol">)))</a>
</pre></body></html>