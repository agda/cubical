<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Codata.M.itree</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--guardedness</a> <a id="27" class="Symbol">#-}</a>

<a id="32" class="Keyword">module</a> <a id="39" href="Cubical.Codata.M.itree.html" class="Module">Cubical.Codata.M.itree</a> <a id="62" class="Keyword">where</a>

<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a>
<a id="99" class="Keyword">open</a> <a id="104" class="Keyword">import</a> <a id="111" href="Cubical.Data.Prod.html" class="Module">Cubical.Data.Prod</a>
<a id="129" class="Keyword">open</a> <a id="134" class="Keyword">import</a> <a id="141" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="158" class="Symbol">as</a> <a id="161" class="Module">ℕ</a> <a id="163" class="Keyword">using</a> <a id="169" class="Symbol">(</a><a id="170" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="172" class="Symbol">;</a> <a id="174" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="178" class="Symbol">;</a> <a id="180" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="184" class="Symbol">)</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Cubical.Data.Sum.html" class="Module">Cubical.Data.Sum</a>
<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a>
<a id="246" class="Keyword">open</a> <a id="251" class="Keyword">import</a> <a id="258" href="Cubical.Data.Bool.html" class="Module">Cubical.Data.Bool</a>

<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>

<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Cubical.Codata.M.Container.html" class="Module">Cubical.Codata.M.Container</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Cubical.Codata.M.M.html" class="Module">Cubical.Codata.M.M</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Cubical.Codata.M.Coalg.html" class="Module">Cubical.Codata.M.Coalg</a>

<a id="465" class="Comment">-- Delay monad defined as an M-type</a>
<a id="delay-S"></a><a id="501" href="Cubical.Codata.M.itree.html#501" class="Function">delay-S</a> <a id="509" class="Symbol">:</a> <a id="511" class="Symbol">(</a><a id="512" href="Cubical.Codata.M.itree.html#512" class="Bound">R</a> <a id="514" class="Symbol">:</a> <a id="516" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="521" class="Symbol">)</a> <a id="523" class="Symbol">-&gt;</a> <a id="526" href="Cubical.Codata.M.Container.html#766" class="Function">Container</a> <a id="536" href="Agda.Primitive.html#915" class="Primitive">ℓ-zero</a>
<a id="543" href="Cubical.Codata.M.itree.html#501" class="Function">delay-S</a> <a id="551" href="Cubical.Codata.M.itree.html#551" class="Bound">R</a> <a id="553" class="Symbol">=</a> <a id="555" class="Symbol">(</a><a id="556" href="Cubical.Data.Unit.Base.html#149" class="Record">Unit</a> <a id="561" href="Cubical.Data.Sum.Base.html#184" class="Datatype Operator">⊎</a> <a id="563" href="Cubical.Codata.M.itree.html#551" class="Bound">R</a><a id="564" class="Symbol">)</a> <a id="566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="568" class="Symbol">λ</a> <a id="570" class="Symbol">{</a> <a id="572" class="Symbol">(</a><a id="573" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="577" class="Symbol">_)</a> <a id="580" class="Symbol">-&gt;</a> <a id="583" href="Cubical.Data.Empty.Base.html#122" class="Datatype">⊥</a> <a id="585" class="Symbol">;</a> <a id="587" class="Symbol">(</a><a id="588" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="592" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="594" class="Symbol">)</a> <a id="596" class="Symbol">-&gt;</a> <a id="599" href="Cubical.Data.Unit.Base.html#149" class="Record">Unit</a> <a id="604" class="Symbol">}</a>

<a id="delay"></a><a id="607" href="Cubical.Codata.M.itree.html#607" class="Function">delay</a> <a id="613" class="Symbol">:</a> <a id="615" class="Symbol">(</a><a id="616" href="Cubical.Codata.M.itree.html#616" class="Bound">R</a> <a id="618" class="Symbol">:</a> <a id="620" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="625" class="Symbol">)</a> <a id="627" class="Symbol">-&gt;</a> <a id="630" href="Agda.Primitive.html#388" class="Primitive">Type₀</a>
<a id="636" href="Cubical.Codata.M.itree.html#607" class="Function">delay</a> <a id="642" href="Cubical.Codata.M.itree.html#642" class="Bound">R</a> <a id="644" class="Symbol">=</a> <a id="646" href="Cubical.Codata.M.Container.html#2432" class="Function">M</a> <a id="648" class="Symbol">(</a><a id="649" href="Cubical.Codata.M.itree.html#501" class="Function">delay-S</a> <a id="657" href="Cubical.Codata.M.itree.html#642" class="Bound">R</a><a id="658" class="Symbol">)</a>

<a id="delay-ret"></a><a id="661" href="Cubical.Codata.M.itree.html#661" class="Function">delay-ret</a> <a id="671" class="Symbol">:</a> <a id="673" class="Symbol">{</a><a id="674" href="Cubical.Codata.M.itree.html#674" class="Bound">R</a> <a id="676" class="Symbol">:</a> <a id="678" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="683" class="Symbol">}</a> <a id="685" class="Symbol">-&gt;</a> <a id="688" href="Cubical.Codata.M.itree.html#674" class="Bound">R</a> <a id="690" class="Symbol">-&gt;</a> <a id="693" href="Cubical.Codata.M.itree.html#607" class="Function">delay</a> <a id="699" href="Cubical.Codata.M.itree.html#674" class="Bound">R</a>
<a id="701" href="Cubical.Codata.M.itree.html#661" class="Function">delay-ret</a> <a id="711" href="Cubical.Codata.M.itree.html#711" class="Bound">r</a> <a id="713" class="Symbol">=</a> <a id="715" href="Cubical.Codata.M.M.Base.html#8926" class="Function">in-fun</a> <a id="722" class="Symbol">(</a><a id="723" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="727" href="Cubical.Codata.M.itree.html#711" class="Bound">r</a> <a id="729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="731" class="Symbol">λ</a> <a id="733" class="Symbol">())</a>

<a id="delay-tau"></a><a id="738" href="Cubical.Codata.M.itree.html#738" class="Function">delay-tau</a> <a id="748" class="Symbol">:</a> <a id="750" class="Symbol">{</a><a id="751" href="Cubical.Codata.M.itree.html#751" class="Bound">R</a> <a id="753" class="Symbol">:</a> <a id="755" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="760" class="Symbol">}</a> <a id="762" class="Symbol">-&gt;</a> <a id="765" href="Cubical.Codata.M.itree.html#607" class="Function">delay</a> <a id="771" href="Cubical.Codata.M.itree.html#751" class="Bound">R</a> <a id="773" class="Symbol">-&gt;</a> <a id="776" href="Cubical.Codata.M.itree.html#607" class="Function">delay</a> <a id="782" href="Cubical.Codata.M.itree.html#751" class="Bound">R</a>
<a id="784" href="Cubical.Codata.M.itree.html#738" class="Function">delay-tau</a> <a id="794" href="Cubical.Codata.M.itree.html#794" class="Bound">S</a> <a id="796" class="Symbol">=</a> <a id="798" href="Cubical.Codata.M.M.Base.html#8926" class="Function">in-fun</a> <a id="805" class="Symbol">(</a><a id="806" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="810" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="813" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="815" class="Symbol">λ</a> <a id="817" href="Cubical.Codata.M.itree.html#817" class="Bound">x</a> <a id="819" class="Symbol">→</a> <a id="821" href="Cubical.Codata.M.itree.html#794" class="Bound">S</a><a id="822" class="Symbol">)</a>

<a id="825" class="Comment">-- Bottom element raised</a>
<a id="850" class="Keyword">data</a> <a id="⊥₁"></a><a id="855" href="Cubical.Codata.M.itree.html#855" class="Datatype">⊥₁</a> <a id="858" class="Symbol">:</a> <a id="860" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="866" class="Keyword">where</a>

<a id="873" class="Comment">-- TREES</a>
<a id="tree-S"></a><a id="882" href="Cubical.Codata.M.itree.html#882" class="Function">tree-S</a> <a id="889" class="Symbol">:</a> <a id="891" class="Symbol">(</a><a id="892" href="Cubical.Codata.M.itree.html#892" class="Bound">E</a> <a id="894" class="Symbol">:</a> <a id="896" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="902" class="Symbol">-&gt;</a> <a id="905" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="910" class="Symbol">)</a> <a id="912" class="Symbol">(</a><a id="913" href="Cubical.Codata.M.itree.html#913" class="Bound">R</a> <a id="915" class="Symbol">:</a> <a id="917" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="922" class="Symbol">)</a> <a id="924" class="Symbol">-&gt;</a> <a id="927" href="Cubical.Codata.M.Container.html#766" class="Function">Container</a> <a id="937" class="Symbol">(</a><a id="938" href="Agda.Primitive.html#931" class="Primitive">ℓ-suc</a> <a id="944" href="Agda.Primitive.html#915" class="Primitive">ℓ-zero</a><a id="950" class="Symbol">)</a>
<a id="952" href="Cubical.Codata.M.itree.html#882" class="Function">tree-S</a> <a id="959" href="Cubical.Codata.M.itree.html#959" class="Bound">E</a> <a id="961" href="Cubical.Codata.M.itree.html#961" class="Bound">R</a> <a id="963" class="Symbol">=</a> <a id="965" class="Symbol">(</a><a id="966" href="Cubical.Codata.M.itree.html#961" class="Bound">R</a> <a id="968" href="Cubical.Data.Sum.Base.html#184" class="Datatype Operator">⊎</a> <a id="970" class="Symbol">(</a><a id="971" href="Cubical.Core.Primitives.html#6245" class="Function">Σ[</a> <a id="974" href="Cubical.Codata.M.itree.html#974" class="Bound">A</a> <a id="976" href="Cubical.Core.Primitives.html#6245" class="Function">∈</a> <a id="978" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="984" href="Cubical.Core.Primitives.html#6245" class="Function">]</a> <a id="986" class="Symbol">(</a><a id="987" href="Cubical.Codata.M.itree.html#959" class="Bound">E</a> <a id="989" href="Cubical.Codata.M.itree.html#974" class="Bound">A</a><a id="990" class="Symbol">)))</a> <a id="994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="996" class="Symbol">(λ</a> <a id="999" class="Symbol">{</a> <a id="1001" class="Symbol">(</a><a id="1002" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="1006" class="Symbol">_)</a> <a id="1009" class="Symbol">-&gt;</a> <a id="1012" href="Cubical.Codata.M.itree.html#855" class="Datatype">⊥₁</a> <a id="1015" class="Symbol">;</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="1022" class="Symbol">(</a><a id="1023" href="Cubical.Codata.M.itree.html#1023" class="Bound">A</a> <a id="1025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1027" href="Cubical.Codata.M.itree.html#1027" class="Bound">e</a><a id="1028" class="Symbol">))</a> <a id="1031" class="Symbol">-&gt;</a> <a id="1034" href="Cubical.Foundations.Prelude.html#20632" class="Record">Lift</a> <a id="1039" href="Cubical.Codata.M.itree.html#1023" class="Bound">A</a> <a id="1041" class="Symbol">}</a> <a id="1043" class="Symbol">)</a>

<a id="tree"></a><a id="1046" href="Cubical.Codata.M.itree.html#1046" class="Function">tree</a> <a id="1051" class="Symbol">:</a> <a id="1053" class="Symbol">(</a><a id="1054" href="Cubical.Codata.M.itree.html#1054" class="Bound">E</a> <a id="1056" class="Symbol">:</a> <a id="1058" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1064" class="Symbol">-&gt;</a> <a id="1067" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="1072" class="Symbol">)</a> <a id="1074" class="Symbol">(</a><a id="1075" href="Cubical.Codata.M.itree.html#1075" class="Bound">R</a> <a id="1077" class="Symbol">:</a> <a id="1079" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="1084" class="Symbol">)</a> <a id="1086" class="Symbol">-&gt;</a> <a id="1089" href="Agda.Primitive.html#388" class="Primitive">Type₁</a>
<a id="1095" href="Cubical.Codata.M.itree.html#1046" class="Function">tree</a> <a id="1100" href="Cubical.Codata.M.itree.html#1100" class="Bound">E</a> <a id="1102" href="Cubical.Codata.M.itree.html#1102" class="Bound">R</a> <a id="1104" class="Symbol">=</a> <a id="1106" href="Cubical.Codata.M.Container.html#2432" class="Function">M</a> <a id="1108" class="Symbol">(</a><a id="1109" href="Cubical.Codata.M.itree.html#882" class="Function">tree-S</a> <a id="1116" href="Cubical.Codata.M.itree.html#1100" class="Bound">E</a> <a id="1118" href="Cubical.Codata.M.itree.html#1102" class="Bound">R</a><a id="1119" class="Symbol">)</a>

<a id="tree-ret"></a><a id="1122" href="Cubical.Codata.M.itree.html#1122" class="Function">tree-ret</a> <a id="1131" class="Symbol">:</a> <a id="1133" class="Symbol">∀</a> <a id="1135" class="Symbol">{</a><a id="1136" href="Cubical.Codata.M.itree.html#1136" class="Bound">E</a><a id="1137" class="Symbol">}</a> <a id="1139" class="Symbol">{</a><a id="1140" href="Cubical.Codata.M.itree.html#1140" class="Bound">R</a><a id="1141" class="Symbol">}</a>  <a id="1144" class="Symbol">-&gt;</a> <a id="1147" href="Cubical.Codata.M.itree.html#1140" class="Bound">R</a> <a id="1149" class="Symbol">-&gt;</a> <a id="1152" href="Cubical.Codata.M.itree.html#1046" class="Function">tree</a> <a id="1157" href="Cubical.Codata.M.itree.html#1136" class="Bound">E</a> <a id="1159" href="Cubical.Codata.M.itree.html#1140" class="Bound">R</a>
<a id="1161" href="Cubical.Codata.M.itree.html#1122" class="Function">tree-ret</a> <a id="1170" class="Symbol">{</a><a id="1171" href="Cubical.Codata.M.itree.html#1171" class="Bound">E</a><a id="1172" class="Symbol">}</a> <a id="1174" class="Symbol">{</a><a id="1175" href="Cubical.Codata.M.itree.html#1175" class="Bound">R</a><a id="1176" class="Symbol">}</a> <a id="1178" href="Cubical.Codata.M.itree.html#1178" class="Bound">r</a> <a id="1180" class="Symbol">=</a> <a id="1182" href="Cubical.Codata.M.M.Base.html#8926" class="Function">in-fun</a> <a id="1189" class="Symbol">(</a><a id="1190" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="1194" href="Cubical.Codata.M.itree.html#1178" class="Bound">r</a> <a id="1196" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1198" class="Symbol">λ</a> <a id="1200" class="Symbol">())</a>

<a id="tree-vis"></a><a id="1205" href="Cubical.Codata.M.itree.html#1205" class="Function">tree-vis</a> <a id="1214" class="Symbol">:</a> <a id="1216" class="Symbol">∀</a> <a id="1218" class="Symbol">{</a><a id="1219" href="Cubical.Codata.M.itree.html#1219" class="Bound">E</a><a id="1220" class="Symbol">}</a> <a id="1222" class="Symbol">{</a><a id="1223" href="Cubical.Codata.M.itree.html#1223" class="Bound">R</a><a id="1224" class="Symbol">}</a>  <a id="1227" class="Symbol">-&gt;</a> <a id="1230" class="Symbol">∀</a> <a id="1232" class="Symbol">{</a><a id="1233" href="Cubical.Codata.M.itree.html#1233" class="Bound">A</a><a id="1234" class="Symbol">}</a> <a id="1236" class="Symbol">-&gt;</a> <a id="1239" href="Cubical.Codata.M.itree.html#1219" class="Bound">E</a> <a id="1241" href="Cubical.Codata.M.itree.html#1233" class="Bound">A</a> <a id="1243" class="Symbol">-&gt;</a> <a id="1246" class="Symbol">(</a><a id="1247" href="Cubical.Codata.M.itree.html#1233" class="Bound">A</a> <a id="1249" class="Symbol">-&gt;</a> <a id="1252" href="Cubical.Codata.M.itree.html#1046" class="Function">tree</a> <a id="1257" href="Cubical.Codata.M.itree.html#1219" class="Bound">E</a> <a id="1259" href="Cubical.Codata.M.itree.html#1223" class="Bound">R</a><a id="1260" class="Symbol">)</a> <a id="1262" class="Symbol">-&gt;</a> <a id="1265" href="Cubical.Codata.M.itree.html#1046" class="Function">tree</a> <a id="1270" href="Cubical.Codata.M.itree.html#1219" class="Bound">E</a> <a id="1272" href="Cubical.Codata.M.itree.html#1223" class="Bound">R</a>
<a id="1274" href="Cubical.Codata.M.itree.html#1205" class="Function">tree-vis</a> <a id="1283" class="Symbol">{</a><a id="1284" class="Argument">A</a> <a id="1286" class="Symbol">=</a> <a id="1288" href="Cubical.Codata.M.itree.html#1288" class="Bound">A</a><a id="1289" class="Symbol">}</a> <a id="1291" href="Cubical.Codata.M.itree.html#1291" class="Bound">e</a> <a id="1293" href="Cubical.Codata.M.itree.html#1293" class="Bound">k</a> <a id="1295" class="Symbol">=</a> <a id="1297" href="Cubical.Codata.M.M.Base.html#8926" class="Function">in-fun</a> <a id="1304" class="Symbol">(</a><a id="1305" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="1309" class="Symbol">(</a><a id="1310" href="Cubical.Codata.M.itree.html#1288" class="Bound">A</a> <a id="1312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1314" href="Cubical.Codata.M.itree.html#1291" class="Bound">e</a><a id="1315" class="Symbol">)</a> <a id="1317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1319" class="Symbol">λ</a> <a id="1321" class="Symbol">{</a> <a id="1323" class="Symbol">(</a><a id="1324" href="Cubical.Foundations.Prelude.html#20695" class="InductiveConstructor">lift</a> <a id="1329" href="Cubical.Codata.M.itree.html#1329" class="Bound">x</a><a id="1330" class="Symbol">)</a> <a id="1332" class="Symbol">-&gt;</a> <a id="1335" href="Cubical.Codata.M.itree.html#1293" class="Bound">k</a> <a id="1337" href="Cubical.Codata.M.itree.html#1329" class="Bound">x</a> <a id="1339" class="Symbol">}</a> <a id="1341" class="Symbol">)</a>

<a id="1344" class="Comment">-- ITrees (and buildup examples)</a>
<a id="1377" class="Comment">-- https://arxiv.org/pdf/1906.00046.pdf</a>
<a id="1417" class="Comment">-- Interaction Trees: Representing Recursive and Impure Programs in Coq</a>
<a id="1489" class="Comment">-- Li-yao Xia, Yannick Zakowski, Paul He, Chung-Kil Hur, Gregory Malecha, Benjamin C. Pierce, Steve Zdancewic</a>

<a id="itree-S"></a><a id="1600" href="Cubical.Codata.M.itree.html#1600" class="Function">itree-S</a> <a id="1608" class="Symbol">:</a> <a id="1610" class="Symbol">∀</a> <a id="1612" class="Symbol">(</a><a id="1613" href="Cubical.Codata.M.itree.html#1613" class="Bound">E</a> <a id="1615" class="Symbol">:</a> <a id="1617" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1623" class="Symbol">-&gt;</a> <a id="1626" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="1631" class="Symbol">)</a> <a id="1633" class="Symbol">(</a><a id="1634" href="Cubical.Codata.M.itree.html#1634" class="Bound">R</a> <a id="1636" class="Symbol">:</a> <a id="1638" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Symbol">-&gt;</a> <a id="1648" href="Cubical.Codata.M.Container.html#766" class="Function">Container</a> <a id="1658" class="Symbol">(</a><a id="1659" href="Agda.Primitive.html#931" class="Primitive">ℓ-suc</a> <a id="1665" href="Agda.Primitive.html#915" class="Primitive">ℓ-zero</a><a id="1671" class="Symbol">)</a>
<a id="1673" href="Cubical.Codata.M.itree.html#1600" class="Function">itree-S</a> <a id="1681" href="Cubical.Codata.M.itree.html#1681" class="Bound">E</a> <a id="1683" href="Cubical.Codata.M.itree.html#1683" class="Bound">R</a> <a id="1685" class="Symbol">=</a> <a id="1687" class="Symbol">((</a><a id="1689" href="Cubical.Data.Unit.Base.html#149" class="Record">Unit</a> <a id="1694" href="Cubical.Data.Sum.Base.html#184" class="Datatype Operator">⊎</a> <a id="1696" href="Cubical.Codata.M.itree.html#1683" class="Bound">R</a><a id="1697" class="Symbol">)</a> <a id="1699" href="Cubical.Data.Sum.Base.html#184" class="Datatype Operator">⊎</a> <a id="1701" class="Symbol">(</a><a id="1702" href="Cubical.Core.Primitives.html#6245" class="Function">Σ[</a> <a id="1705" href="Cubical.Codata.M.itree.html#1705" class="Bound">A</a> <a id="1707" href="Cubical.Core.Primitives.html#6245" class="Function">∈</a> <a id="1709" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1715" href="Cubical.Core.Primitives.html#6245" class="Function">]</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Cubical.Codata.M.itree.html#1681" class="Bound">E</a> <a id="1720" href="Cubical.Codata.M.itree.html#1705" class="Bound">A</a><a id="1721" class="Symbol">)))</a> <a id="1725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1727" class="Symbol">(λ</a> <a id="1730" class="Symbol">{</a> <a id="1732" class="Symbol">(</a><a id="1733" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="1737" class="Symbol">(</a><a id="1738" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="1742" class="Symbol">_))</a> <a id="1746" class="Symbol">-&gt;</a> <a id="1749" href="Cubical.Foundations.Prelude.html#20632" class="Record">Lift</a> <a id="1754" href="Cubical.Data.Unit.Base.html#149" class="Record">Unit</a> <a id="1759" class="Symbol">;</a> <a id="1761" class="Symbol">(</a><a id="1762" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="1766" class="Symbol">(</a><a id="1767" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="1771" class="Symbol">_))</a> <a id="1775" class="Symbol">-&gt;</a> <a id="1778" href="Cubical.Codata.M.itree.html#855" class="Datatype">⊥₁</a> <a id="1781" class="Symbol">;</a> <a id="1783" class="Symbol">(</a><a id="1784" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="1788" class="Symbol">(</a><a id="1789" href="Cubical.Codata.M.itree.html#1789" class="Bound">A</a> <a id="1791" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1793" href="Cubical.Codata.M.itree.html#1793" class="Bound">e</a><a id="1794" class="Symbol">))</a> <a id="1797" class="Symbol">-&gt;</a> <a id="1800" href="Cubical.Foundations.Prelude.html#20632" class="Record">Lift</a> <a id="1805" href="Cubical.Codata.M.itree.html#1789" class="Bound">A</a> <a id="1807" class="Symbol">}</a> <a id="1809" class="Symbol">)</a>

<a id="itree"></a><a id="1812" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="1818" class="Symbol">:</a>  <a id="1821" class="Symbol">∀</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Cubical.Codata.M.itree.html#1824" class="Bound">E</a> <a id="1826" class="Symbol">:</a> <a id="1828" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1834" class="Symbol">-&gt;</a> <a id="1837" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="1842" class="Symbol">)</a> <a id="1844" class="Symbol">(</a><a id="1845" href="Cubical.Codata.M.itree.html#1845" class="Bound">R</a> <a id="1847" class="Symbol">:</a> <a id="1849" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="1854" class="Symbol">)</a> <a id="1856" class="Symbol">-&gt;</a> <a id="1859" href="Agda.Primitive.html#388" class="Primitive">Type₁</a>
<a id="1865" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="1871" href="Cubical.Codata.M.itree.html#1871" class="Bound">E</a> <a id="1873" href="Cubical.Codata.M.itree.html#1873" class="Bound">R</a> <a id="1875" class="Symbol">=</a> <a id="1877" href="Cubical.Codata.M.Container.html#2432" class="Function">M</a> <a id="1879" class="Symbol">(</a><a id="1880" href="Cubical.Codata.M.itree.html#1600" class="Function">itree-S</a> <a id="1888" href="Cubical.Codata.M.itree.html#1871" class="Bound">E</a> <a id="1890" href="Cubical.Codata.M.itree.html#1873" class="Bound">R</a><a id="1891" class="Symbol">)</a>

<a id="ret&#39;"></a><a id="1894" href="Cubical.Codata.M.itree.html#1894" class="Function">ret&#39;</a> <a id="1899" class="Symbol">:</a> <a id="1901" class="Symbol">∀</a> <a id="1903" class="Symbol">{</a><a id="1904" href="Cubical.Codata.M.itree.html#1904" class="Bound">E</a><a id="1905" class="Symbol">}</a> <a id="1907" class="Symbol">{</a><a id="1908" href="Cubical.Codata.M.itree.html#1908" class="Bound">R</a><a id="1909" class="Symbol">}</a>  <a id="1912" class="Symbol">-&gt;</a> <a id="1915" href="Cubical.Codata.M.itree.html#1908" class="Bound">R</a> <a id="1917" class="Symbol">-&gt;</a> <a id="1920" href="Cubical.Codata.M.Container.html#988" class="Function">P₀</a> <a id="1923" class="Symbol">(</a><a id="1924" href="Cubical.Codata.M.itree.html#1600" class="Function">itree-S</a> <a id="1932" href="Cubical.Codata.M.itree.html#1904" class="Bound">E</a> <a id="1934" href="Cubical.Codata.M.itree.html#1908" class="Bound">R</a><a id="1935" class="Symbol">)</a> <a id="1937" class="Symbol">(</a><a id="1938" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="1944" href="Cubical.Codata.M.itree.html#1904" class="Bound">E</a> <a id="1946" href="Cubical.Codata.M.itree.html#1908" class="Bound">R</a><a id="1947" class="Symbol">)</a>
<a id="1949" href="Cubical.Codata.M.itree.html#1894" class="Function">ret&#39;</a> <a id="1954" class="Symbol">{</a><a id="1955" href="Cubical.Codata.M.itree.html#1955" class="Bound">E</a><a id="1956" class="Symbol">}</a> <a id="1958" class="Symbol">{</a><a id="1959" href="Cubical.Codata.M.itree.html#1959" class="Bound">R</a><a id="1960" class="Symbol">}</a> <a id="1962" href="Cubical.Codata.M.itree.html#1962" class="Bound">r</a> <a id="1964" class="Symbol">=</a> <a id="1966" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="1970" class="Symbol">(</a><a id="1971" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="1975" href="Cubical.Codata.M.itree.html#1962" class="Bound">r</a><a id="1976" class="Symbol">)</a> <a id="1978" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1980" class="Symbol">λ</a> <a id="1982" class="Symbol">()</a>

<a id="tau&#39;"></a><a id="1986" href="Cubical.Codata.M.itree.html#1986" class="Function">tau&#39;</a> <a id="1991" class="Symbol">:</a> <a id="1993" class="Symbol">{</a><a id="1994" href="Cubical.Codata.M.itree.html#1994" class="Bound">E</a> <a id="1996" class="Symbol">:</a> <a id="1998" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="2004" class="Symbol">-&gt;</a> <a id="2007" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="2012" class="Symbol">}</a> <a id="2014" class="Symbol">-&gt;</a> <a id="2017" class="Symbol">{</a><a id="2018" href="Cubical.Codata.M.itree.html#2018" class="Bound">R</a> <a id="2020" class="Symbol">:</a> <a id="2022" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2027" class="Symbol">}</a> <a id="2029" class="Symbol">-&gt;</a> <a id="2032" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2038" href="Cubical.Codata.M.itree.html#1994" class="Bound">E</a> <a id="2040" href="Cubical.Codata.M.itree.html#2018" class="Bound">R</a> <a id="2042" class="Symbol">-&gt;</a> <a id="2045" href="Cubical.Codata.M.Container.html#988" class="Function">P₀</a> <a id="2048" class="Symbol">(</a><a id="2049" href="Cubical.Codata.M.itree.html#1600" class="Function">itree-S</a> <a id="2057" href="Cubical.Codata.M.itree.html#1994" class="Bound">E</a> <a id="2059" href="Cubical.Codata.M.itree.html#2018" class="Bound">R</a><a id="2060" class="Symbol">)</a> <a id="2062" class="Symbol">(</a><a id="2063" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2069" href="Cubical.Codata.M.itree.html#1994" class="Bound">E</a> <a id="2071" href="Cubical.Codata.M.itree.html#2018" class="Bound">R</a><a id="2072" class="Symbol">)</a>
<a id="2074" href="Cubical.Codata.M.itree.html#1986" class="Function">tau&#39;</a> <a id="2079" href="Cubical.Codata.M.itree.html#2079" class="Bound">t</a> <a id="2081" class="Symbol">=</a> <a id="2083" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="2087" class="Symbol">(</a><a id="2088" href="Cubical.Data.Sum.Base.html#242" class="InductiveConstructor">inl</a> <a id="2092" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="2094" class="Symbol">)</a> <a id="2096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2098" class="Symbol">λ</a> <a id="2100" href="Cubical.Codata.M.itree.html#2100" class="Bound">x</a> <a id="2102" class="Symbol">→</a> <a id="2104" href="Cubical.Codata.M.itree.html#2079" class="Bound">t</a>

<a id="vis&#39;"></a><a id="2107" href="Cubical.Codata.M.itree.html#2107" class="Function">vis&#39;</a> <a id="2112" class="Symbol">:</a> <a id="2114" class="Symbol">∀</a> <a id="2116" class="Symbol">{</a><a id="2117" href="Cubical.Codata.M.itree.html#2117" class="Bound">E</a><a id="2118" class="Symbol">}</a> <a id="2120" class="Symbol">{</a><a id="2121" href="Cubical.Codata.M.itree.html#2121" class="Bound">R</a><a id="2122" class="Symbol">}</a>  <a id="2125" class="Symbol">-&gt;</a> <a id="2128" class="Symbol">∀</a> <a id="2130" class="Symbol">{</a><a id="2131" href="Cubical.Codata.M.itree.html#2131" class="Bound">A</a> <a id="2133" class="Symbol">:</a> <a id="2135" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2140" class="Symbol">}</a> <a id="2142" class="Symbol">-&gt;</a> <a id="2145" href="Cubical.Codata.M.itree.html#2117" class="Bound">E</a> <a id="2147" href="Cubical.Codata.M.itree.html#2131" class="Bound">A</a> <a id="2149" class="Symbol">-&gt;</a> <a id="2152" class="Symbol">(</a><a id="2153" href="Cubical.Codata.M.itree.html#2131" class="Bound">A</a> <a id="2155" class="Symbol">-&gt;</a> <a id="2158" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2164" href="Cubical.Codata.M.itree.html#2117" class="Bound">E</a> <a id="2166" href="Cubical.Codata.M.itree.html#2121" class="Bound">R</a><a id="2167" class="Symbol">)</a> <a id="2169" class="Symbol">-&gt;</a> <a id="2172" href="Cubical.Codata.M.Container.html#988" class="Function">P₀</a> <a id="2175" class="Symbol">(</a><a id="2176" href="Cubical.Codata.M.itree.html#1600" class="Function">itree-S</a> <a id="2184" href="Cubical.Codata.M.itree.html#2117" class="Bound">E</a> <a id="2186" href="Cubical.Codata.M.itree.html#2121" class="Bound">R</a><a id="2187" class="Symbol">)</a> <a id="2189" class="Symbol">(</a><a id="2190" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2196" href="Cubical.Codata.M.itree.html#2117" class="Bound">E</a> <a id="2198" href="Cubical.Codata.M.itree.html#2121" class="Bound">R</a><a id="2199" class="Symbol">)</a>
<a id="2201" href="Cubical.Codata.M.itree.html#2107" class="Function">vis&#39;</a> <a id="2206" class="Symbol">{</a><a id="2207" class="Argument">A</a> <a id="2209" class="Symbol">=</a> <a id="2211" href="Cubical.Codata.M.itree.html#2211" class="Bound">A</a><a id="2212" class="Symbol">}</a> <a id="2214" href="Cubical.Codata.M.itree.html#2214" class="Bound">e</a> <a id="2216" href="Cubical.Codata.M.itree.html#2216" class="Bound">k</a> <a id="2218" class="Symbol">=</a> <a id="2220" href="Cubical.Data.Sum.Base.html#260" class="InductiveConstructor">inr</a> <a id="2224" class="Symbol">(</a><a id="2225" href="Cubical.Codata.M.itree.html#2211" class="Bound">A</a> <a id="2227" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2229" href="Cubical.Codata.M.itree.html#2214" class="Bound">e</a><a id="2230" class="Symbol">)</a> <a id="2232" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2234" class="Symbol">λ</a> <a id="2236" class="Symbol">{</a> <a id="2238" class="Symbol">(</a><a id="2239" href="Cubical.Foundations.Prelude.html#20695" class="InductiveConstructor">lift</a> <a id="2244" href="Cubical.Codata.M.itree.html#2244" class="Bound">x</a><a id="2245" class="Symbol">)</a> <a id="2247" class="Symbol">-&gt;</a> <a id="2250" href="Cubical.Codata.M.itree.html#2216" class="Bound">k</a> <a id="2252" href="Cubical.Codata.M.itree.html#2244" class="Bound">x</a> <a id="2254" class="Symbol">}</a>

<a id="ret"></a><a id="2257" href="Cubical.Codata.M.itree.html#2257" class="Function">ret</a> <a id="2261" class="Symbol">:</a> <a id="2263" class="Symbol">∀</a> <a id="2265" class="Symbol">{</a><a id="2266" href="Cubical.Codata.M.itree.html#2266" class="Bound">E</a><a id="2267" class="Symbol">}</a> <a id="2269" class="Symbol">{</a><a id="2270" href="Cubical.Codata.M.itree.html#2270" class="Bound">R</a><a id="2271" class="Symbol">}</a>  <a id="2274" class="Symbol">-&gt;</a> <a id="2277" href="Cubical.Codata.M.itree.html#2270" class="Bound">R</a> <a id="2279" class="Symbol">-&gt;</a> <a id="2282" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2288" href="Cubical.Codata.M.itree.html#2266" class="Bound">E</a> <a id="2290" href="Cubical.Codata.M.itree.html#2270" class="Bound">R</a>
<a id="2292" href="Cubical.Codata.M.itree.html#2257" class="Function">ret</a> <a id="2296" class="Symbol">=</a> <a id="2298" href="Cubical.Codata.M.M.Base.html#8926" class="Function">in-fun</a> <a id="2305" href="Cubical.Foundations.Function.html#898" class="Function Operator">∘</a> <a id="2307" href="Cubical.Codata.M.itree.html#1894" class="Function">ret&#39;</a>

<a id="tau"></a><a id="2313" href="Cubical.Codata.M.itree.html#2313" class="Function">tau</a> <a id="2317" class="Symbol">:</a> <a id="2319" class="Symbol">{</a><a id="2320" href="Cubical.Codata.M.itree.html#2320" class="Bound">E</a> <a id="2322" class="Symbol">:</a> <a id="2324" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="2330" class="Symbol">-&gt;</a> <a id="2333" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="2338" class="Symbol">}</a> <a id="2340" class="Symbol">-&gt;</a> <a id="2343" class="Symbol">{</a><a id="2344" href="Cubical.Codata.M.itree.html#2344" class="Bound">R</a> <a id="2346" class="Symbol">:</a> <a id="2348" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2353" class="Symbol">}</a> <a id="2355" class="Symbol">-&gt;</a> <a id="2358" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2364" href="Cubical.Codata.M.itree.html#2320" class="Bound">E</a> <a id="2366" href="Cubical.Codata.M.itree.html#2344" class="Bound">R</a> <a id="2368" class="Symbol">-&gt;</a> <a id="2371" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2377" href="Cubical.Codata.M.itree.html#2320" class="Bound">E</a> <a id="2379" href="Cubical.Codata.M.itree.html#2344" class="Bound">R</a>
<a id="2381" href="Cubical.Codata.M.itree.html#2313" class="Function">tau</a> <a id="2385" class="Symbol">=</a> <a id="2387" href="Cubical.Codata.M.M.Base.html#8926" class="Function">in-fun</a> <a id="2394" href="Cubical.Foundations.Function.html#898" class="Function Operator">∘</a> <a id="2396" href="Cubical.Codata.M.itree.html#1986" class="Function">tau&#39;</a>

<a id="vis"></a><a id="2402" href="Cubical.Codata.M.itree.html#2402" class="Function">vis</a> <a id="2406" class="Symbol">:</a> <a id="2408" class="Symbol">∀</a> <a id="2410" class="Symbol">{</a><a id="2411" href="Cubical.Codata.M.itree.html#2411" class="Bound">E</a><a id="2412" class="Symbol">}</a> <a id="2414" class="Symbol">{</a><a id="2415" href="Cubical.Codata.M.itree.html#2415" class="Bound">R</a><a id="2416" class="Symbol">}</a>  <a id="2419" class="Symbol">-&gt;</a> <a id="2422" class="Symbol">∀</a> <a id="2424" class="Symbol">{</a><a id="2425" href="Cubical.Codata.M.itree.html#2425" class="Bound">A</a> <a id="2427" class="Symbol">:</a> <a id="2429" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2434" class="Symbol">}</a> <a id="2436" class="Symbol">-&gt;</a> <a id="2439" href="Cubical.Codata.M.itree.html#2411" class="Bound">E</a> <a id="2441" href="Cubical.Codata.M.itree.html#2425" class="Bound">A</a> <a id="2443" class="Symbol">-&gt;</a> <a id="2446" class="Symbol">(</a><a id="2447" href="Cubical.Codata.M.itree.html#2425" class="Bound">A</a> <a id="2449" class="Symbol">-&gt;</a> <a id="2452" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2458" href="Cubical.Codata.M.itree.html#2411" class="Bound">E</a> <a id="2460" href="Cubical.Codata.M.itree.html#2415" class="Bound">R</a><a id="2461" class="Symbol">)</a> <a id="2463" class="Symbol">-&gt;</a> <a id="2466" href="Cubical.Codata.M.itree.html#1812" class="Function">itree</a> <a id="2472" href="Cubical.Codata.M.itree.html#2411" class="Bound">E</a> <a id="2474" href="Cubical.Codata.M.itree.html#2415" class="Bound">R</a>
<a id="2476" href="Cubical.Codata.M.itree.html#2402" class="Function">vis</a> <a id="2480" class="Symbol">{</a><a id="2481" class="Argument">A</a> <a id="2483" class="Symbol">=</a> <a id="2485" href="Cubical.Codata.M.itree.html#2485" class="Bound">A</a><a id="2486" class="Symbol">}</a> <a id="2488" href="Cubical.Codata.M.itree.html#2488" class="Bound">e</a> <a id="2490" class="Symbol">=</a> <a id="2492" href="Cubical.Codata.M.M.Base.html#8926" class="Function">in-fun</a> <a id="2499" href="Cubical.Foundations.Function.html#898" class="Function Operator">∘</a> <a id="2501" class="Symbol">(</a><a id="2502" href="Cubical.Codata.M.itree.html#2107" class="Function">vis&#39;</a> <a id="2507" class="Symbol">{</a><a id="2508" class="Argument">A</a> <a id="2510" class="Symbol">=</a> <a id="2512" href="Cubical.Codata.M.itree.html#2485" class="Bound">A</a><a id="2513" class="Symbol">}</a> <a id="2515" href="Cubical.Codata.M.itree.html#2488" class="Bound">e</a><a id="2516" class="Symbol">)</a>
</pre></body></html>