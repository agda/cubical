<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Codata.M.itree</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--guardedness</a> <a id="27" class="Pragma">--safe</a> <a id="34" class="Symbol">#-}</a>

<a id="39" class="Keyword">module</a> <a id="46" href="Cubical.Codata.M.itree.html" class="Module">Cubical.Codata.M.itree</a> <a id="69" class="Keyword">where</a>

<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a>
<a id="106" class="Keyword">open</a> <a id="111" class="Keyword">import</a> <a id="118" href="Cubical.Data.Prod.html" class="Module">Cubical.Data.Prod</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="165" class="Symbol">as</a> <a id="168" class="Module">ℕ</a> <a id="170" class="Keyword">using</a> <a id="176" class="Symbol">(</a><a id="177" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="179" class="Symbol">;</a> <a id="181" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="191" class="Symbol">)</a>
<a id="193" class="Keyword">open</a> <a id="198" class="Keyword">import</a> <a id="205" href="Cubical.Data.Sum.html" class="Module">Cubical.Data.Sum</a>
<a id="222" class="Keyword">open</a> <a id="227" class="Keyword">import</a> <a id="234" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a>
<a id="253" class="Keyword">open</a> <a id="258" class="Keyword">import</a> <a id="265" href="Cubical.Data.Bool.html" class="Module">Cubical.Data.Bool</a>

<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>

<a id="366" class="Keyword">open</a> <a id="371" class="Keyword">import</a> <a id="378" href="Cubical.Codata.M.Container.html" class="Module">Cubical.Codata.M.Container</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Cubical.Codata.M.M.html" class="Module">Cubical.Codata.M.M</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Cubical.Codata.M.Coalg.html" class="Module">Cubical.Codata.M.Coalg</a>

<a id="472" class="Comment">-- Delay monad defined as an M-type</a>
<a id="delay-S"></a><a id="508" href="Cubical.Codata.M.itree.html#508" class="Function">delay-S</a> <a id="516" class="Symbol">:</a> <a id="518" class="Symbol">(</a><a id="519" href="Cubical.Codata.M.itree.html#519" class="Bound">R</a> <a id="521" class="Symbol">:</a> <a id="523" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="528" class="Symbol">)</a> <a id="530" class="Symbol">-&gt;</a> <a id="533" href="Cubical.Codata.M.Container.html#773" class="Function">Container</a> <a id="543" href="Agda.Primitive.html#915" class="Primitive">ℓ-zero</a>
<a id="550" href="Cubical.Codata.M.itree.html#508" class="Function">delay-S</a> <a id="558" href="Cubical.Codata.M.itree.html#558" class="Bound">R</a> <a id="560" class="Symbol">=</a> <a id="562" class="Symbol">(</a><a id="563" href="Cubical.Data.Unit.Base.html#172" class="Record">Unit</a> <a id="568" href="Cubical.Data.Sum.Base.html#207" class="Datatype Operator">⊎</a> <a id="570" href="Cubical.Codata.M.itree.html#558" class="Bound">R</a><a id="571" class="Symbol">)</a> <a id="573" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="575" class="Symbol">λ</a> <a id="577" class="Symbol">{</a> <a id="579" class="Symbol">(</a><a id="580" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="584" class="Symbol">_)</a> <a id="587" class="Symbol">-&gt;</a> <a id="590" href="Cubical.Data.Empty.Base.html#145" class="Datatype">⊥</a> <a id="592" class="Symbol">;</a> <a id="594" class="Symbol">(</a><a id="595" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="599" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="601" class="Symbol">)</a> <a id="603" class="Symbol">-&gt;</a> <a id="606" href="Cubical.Data.Unit.Base.html#172" class="Record">Unit</a> <a id="611" class="Symbol">}</a>

<a id="delay"></a><a id="614" href="Cubical.Codata.M.itree.html#614" class="Function">delay</a> <a id="620" class="Symbol">:</a> <a id="622" class="Symbol">(</a><a id="623" href="Cubical.Codata.M.itree.html#623" class="Bound">R</a> <a id="625" class="Symbol">:</a> <a id="627" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="632" class="Symbol">)</a> <a id="634" class="Symbol">-&gt;</a> <a id="637" href="Agda.Primitive.html#388" class="Primitive">Type₀</a>
<a id="643" href="Cubical.Codata.M.itree.html#614" class="Function">delay</a> <a id="649" href="Cubical.Codata.M.itree.html#649" class="Bound">R</a> <a id="651" class="Symbol">=</a> <a id="653" href="Cubical.Codata.M.Container.html#2439" class="Function">M</a> <a id="655" class="Symbol">(</a><a id="656" href="Cubical.Codata.M.itree.html#508" class="Function">delay-S</a> <a id="664" href="Cubical.Codata.M.itree.html#649" class="Bound">R</a><a id="665" class="Symbol">)</a>

<a id="delay-ret"></a><a id="668" href="Cubical.Codata.M.itree.html#668" class="Function">delay-ret</a> <a id="678" class="Symbol">:</a> <a id="680" class="Symbol">{</a><a id="681" href="Cubical.Codata.M.itree.html#681" class="Bound">R</a> <a id="683" class="Symbol">:</a> <a id="685" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="690" class="Symbol">}</a> <a id="692" class="Symbol">-&gt;</a> <a id="695" href="Cubical.Codata.M.itree.html#681" class="Bound">R</a> <a id="697" class="Symbol">-&gt;</a> <a id="700" href="Cubical.Codata.M.itree.html#614" class="Function">delay</a> <a id="706" href="Cubical.Codata.M.itree.html#681" class="Bound">R</a>
<a id="708" href="Cubical.Codata.M.itree.html#668" class="Function">delay-ret</a> <a id="718" href="Cubical.Codata.M.itree.html#718" class="Bound">r</a> <a id="720" class="Symbol">=</a> <a id="722" href="Cubical.Codata.M.M.Base.html#8933" class="Function">in-fun</a> <a id="729" class="Symbol">(</a><a id="730" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="734" href="Cubical.Codata.M.itree.html#718" class="Bound">r</a> <a id="736" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="738" class="Symbol">λ</a> <a id="740" class="Symbol">())</a>

<a id="delay-tau"></a><a id="745" href="Cubical.Codata.M.itree.html#745" class="Function">delay-tau</a> <a id="755" class="Symbol">:</a> <a id="757" class="Symbol">{</a><a id="758" href="Cubical.Codata.M.itree.html#758" class="Bound">R</a> <a id="760" class="Symbol">:</a> <a id="762" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="767" class="Symbol">}</a> <a id="769" class="Symbol">-&gt;</a> <a id="772" href="Cubical.Codata.M.itree.html#614" class="Function">delay</a> <a id="778" href="Cubical.Codata.M.itree.html#758" class="Bound">R</a> <a id="780" class="Symbol">-&gt;</a> <a id="783" href="Cubical.Codata.M.itree.html#614" class="Function">delay</a> <a id="789" href="Cubical.Codata.M.itree.html#758" class="Bound">R</a>
<a id="791" href="Cubical.Codata.M.itree.html#745" class="Function">delay-tau</a> <a id="801" href="Cubical.Codata.M.itree.html#801" class="Bound">S</a> <a id="803" class="Symbol">=</a> <a id="805" href="Cubical.Codata.M.M.Base.html#8933" class="Function">in-fun</a> <a id="812" class="Symbol">(</a><a id="813" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="817" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="822" class="Symbol">λ</a> <a id="824" href="Cubical.Codata.M.itree.html#824" class="Bound">x</a> <a id="826" class="Symbol">→</a> <a id="828" href="Cubical.Codata.M.itree.html#801" class="Bound">S</a><a id="829" class="Symbol">)</a>

<a id="832" class="Comment">-- Bottom element raised</a>
<a id="857" class="Keyword">data</a> <a id="⊥₁"></a><a id="862" href="Cubical.Codata.M.itree.html#862" class="Datatype">⊥₁</a> <a id="865" class="Symbol">:</a> <a id="867" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="873" class="Keyword">where</a>

<a id="880" class="Comment">-- TREES</a>
<a id="tree-S"></a><a id="889" href="Cubical.Codata.M.itree.html#889" class="Function">tree-S</a> <a id="896" class="Symbol">:</a> <a id="898" class="Symbol">(</a><a id="899" href="Cubical.Codata.M.itree.html#899" class="Bound">E</a> <a id="901" class="Symbol">:</a> <a id="903" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="909" class="Symbol">-&gt;</a> <a id="912" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="917" class="Symbol">)</a> <a id="919" class="Symbol">(</a><a id="920" href="Cubical.Codata.M.itree.html#920" class="Bound">R</a> <a id="922" class="Symbol">:</a> <a id="924" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="929" class="Symbol">)</a> <a id="931" class="Symbol">-&gt;</a> <a id="934" href="Cubical.Codata.M.Container.html#773" class="Function">Container</a> <a id="944" class="Symbol">(</a><a id="945" href="Agda.Primitive.html#931" class="Primitive">ℓ-suc</a> <a id="951" href="Agda.Primitive.html#915" class="Primitive">ℓ-zero</a><a id="957" class="Symbol">)</a>
<a id="959" href="Cubical.Codata.M.itree.html#889" class="Function">tree-S</a> <a id="966" href="Cubical.Codata.M.itree.html#966" class="Bound">E</a> <a id="968" href="Cubical.Codata.M.itree.html#968" class="Bound">R</a> <a id="970" class="Symbol">=</a> <a id="972" class="Symbol">(</a><a id="973" href="Cubical.Codata.M.itree.html#968" class="Bound">R</a> <a id="975" href="Cubical.Data.Sum.Base.html#207" class="Datatype Operator">⊎</a> <a id="977" class="Symbol">(</a><a id="978" href="Cubical.Core.Primitives.html#6268" class="Function">Σ[</a> <a id="981" href="Cubical.Codata.M.itree.html#981" class="Bound">A</a> <a id="983" href="Cubical.Core.Primitives.html#6268" class="Function">∈</a> <a id="985" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="991" href="Cubical.Core.Primitives.html#6268" class="Function">]</a> <a id="993" class="Symbol">(</a><a id="994" href="Cubical.Codata.M.itree.html#966" class="Bound">E</a> <a id="996" href="Cubical.Codata.M.itree.html#981" class="Bound">A</a><a id="997" class="Symbol">)))</a> <a id="1001" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1003" class="Symbol">(λ</a> <a id="1006" class="Symbol">{</a> <a id="1008" class="Symbol">(</a><a id="1009" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="1013" class="Symbol">_)</a> <a id="1016" class="Symbol">-&gt;</a> <a id="1019" href="Cubical.Codata.M.itree.html#862" class="Datatype">⊥₁</a> <a id="1022" class="Symbol">;</a> <a id="1024" class="Symbol">(</a><a id="1025" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="1029" class="Symbol">(</a><a id="1030" href="Cubical.Codata.M.itree.html#1030" class="Bound">A</a> <a id="1032" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1034" href="Cubical.Codata.M.itree.html#1034" class="Bound">e</a><a id="1035" class="Symbol">))</a> <a id="1038" class="Symbol">-&gt;</a> <a id="1041" href="Cubical.Foundations.Prelude.html#20224" class="Record">Lift</a> <a id="1046" href="Cubical.Codata.M.itree.html#1030" class="Bound">A</a> <a id="1048" class="Symbol">}</a> <a id="1050" class="Symbol">)</a>

<a id="tree"></a><a id="1053" href="Cubical.Codata.M.itree.html#1053" class="Function">tree</a> <a id="1058" class="Symbol">:</a> <a id="1060" class="Symbol">(</a><a id="1061" href="Cubical.Codata.M.itree.html#1061" class="Bound">E</a> <a id="1063" class="Symbol">:</a> <a id="1065" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1071" class="Symbol">-&gt;</a> <a id="1074" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="1079" class="Symbol">)</a> <a id="1081" class="Symbol">(</a><a id="1082" href="Cubical.Codata.M.itree.html#1082" class="Bound">R</a> <a id="1084" class="Symbol">:</a> <a id="1086" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="1091" class="Symbol">)</a> <a id="1093" class="Symbol">-&gt;</a> <a id="1096" href="Agda.Primitive.html#388" class="Primitive">Type₁</a>
<a id="1102" href="Cubical.Codata.M.itree.html#1053" class="Function">tree</a> <a id="1107" href="Cubical.Codata.M.itree.html#1107" class="Bound">E</a> <a id="1109" href="Cubical.Codata.M.itree.html#1109" class="Bound">R</a> <a id="1111" class="Symbol">=</a> <a id="1113" href="Cubical.Codata.M.Container.html#2439" class="Function">M</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Cubical.Codata.M.itree.html#889" class="Function">tree-S</a> <a id="1123" href="Cubical.Codata.M.itree.html#1107" class="Bound">E</a> <a id="1125" href="Cubical.Codata.M.itree.html#1109" class="Bound">R</a><a id="1126" class="Symbol">)</a>

<a id="tree-ret"></a><a id="1129" href="Cubical.Codata.M.itree.html#1129" class="Function">tree-ret</a> <a id="1138" class="Symbol">:</a> <a id="1140" class="Symbol">∀</a> <a id="1142" class="Symbol">{</a><a id="1143" href="Cubical.Codata.M.itree.html#1143" class="Bound">E</a><a id="1144" class="Symbol">}</a> <a id="1146" class="Symbol">{</a><a id="1147" href="Cubical.Codata.M.itree.html#1147" class="Bound">R</a><a id="1148" class="Symbol">}</a>  <a id="1151" class="Symbol">-&gt;</a> <a id="1154" href="Cubical.Codata.M.itree.html#1147" class="Bound">R</a> <a id="1156" class="Symbol">-&gt;</a> <a id="1159" href="Cubical.Codata.M.itree.html#1053" class="Function">tree</a> <a id="1164" href="Cubical.Codata.M.itree.html#1143" class="Bound">E</a> <a id="1166" href="Cubical.Codata.M.itree.html#1147" class="Bound">R</a>
<a id="1168" href="Cubical.Codata.M.itree.html#1129" class="Function">tree-ret</a> <a id="1177" class="Symbol">{</a><a id="1178" href="Cubical.Codata.M.itree.html#1178" class="Bound">E</a><a id="1179" class="Symbol">}</a> <a id="1181" class="Symbol">{</a><a id="1182" href="Cubical.Codata.M.itree.html#1182" class="Bound">R</a><a id="1183" class="Symbol">}</a> <a id="1185" href="Cubical.Codata.M.itree.html#1185" class="Bound">r</a> <a id="1187" class="Symbol">=</a> <a id="1189" href="Cubical.Codata.M.M.Base.html#8933" class="Function">in-fun</a> <a id="1196" class="Symbol">(</a><a id="1197" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="1201" href="Cubical.Codata.M.itree.html#1185" class="Bound">r</a> <a id="1203" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1205" class="Symbol">λ</a> <a id="1207" class="Symbol">())</a>

<a id="tree-vis"></a><a id="1212" href="Cubical.Codata.M.itree.html#1212" class="Function">tree-vis</a> <a id="1221" class="Symbol">:</a> <a id="1223" class="Symbol">∀</a> <a id="1225" class="Symbol">{</a><a id="1226" href="Cubical.Codata.M.itree.html#1226" class="Bound">E</a><a id="1227" class="Symbol">}</a> <a id="1229" class="Symbol">{</a><a id="1230" href="Cubical.Codata.M.itree.html#1230" class="Bound">R</a><a id="1231" class="Symbol">}</a>  <a id="1234" class="Symbol">-&gt;</a> <a id="1237" class="Symbol">∀</a> <a id="1239" class="Symbol">{</a><a id="1240" href="Cubical.Codata.M.itree.html#1240" class="Bound">A</a><a id="1241" class="Symbol">}</a> <a id="1243" class="Symbol">-&gt;</a> <a id="1246" href="Cubical.Codata.M.itree.html#1226" class="Bound">E</a> <a id="1248" href="Cubical.Codata.M.itree.html#1240" class="Bound">A</a> <a id="1250" class="Symbol">-&gt;</a> <a id="1253" class="Symbol">(</a><a id="1254" href="Cubical.Codata.M.itree.html#1240" class="Bound">A</a> <a id="1256" class="Symbol">-&gt;</a> <a id="1259" href="Cubical.Codata.M.itree.html#1053" class="Function">tree</a> <a id="1264" href="Cubical.Codata.M.itree.html#1226" class="Bound">E</a> <a id="1266" href="Cubical.Codata.M.itree.html#1230" class="Bound">R</a><a id="1267" class="Symbol">)</a> <a id="1269" class="Symbol">-&gt;</a> <a id="1272" href="Cubical.Codata.M.itree.html#1053" class="Function">tree</a> <a id="1277" href="Cubical.Codata.M.itree.html#1226" class="Bound">E</a> <a id="1279" href="Cubical.Codata.M.itree.html#1230" class="Bound">R</a>
<a id="1281" href="Cubical.Codata.M.itree.html#1212" class="Function">tree-vis</a> <a id="1290" class="Symbol">{</a><a id="1291" class="Argument">A</a> <a id="1293" class="Symbol">=</a> <a id="1295" href="Cubical.Codata.M.itree.html#1295" class="Bound">A</a><a id="1296" class="Symbol">}</a> <a id="1298" href="Cubical.Codata.M.itree.html#1298" class="Bound">e</a> <a id="1300" href="Cubical.Codata.M.itree.html#1300" class="Bound">k</a> <a id="1302" class="Symbol">=</a> <a id="1304" href="Cubical.Codata.M.M.Base.html#8933" class="Function">in-fun</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="1316" class="Symbol">(</a><a id="1317" href="Cubical.Codata.M.itree.html#1295" class="Bound">A</a> <a id="1319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1321" href="Cubical.Codata.M.itree.html#1298" class="Bound">e</a><a id="1322" class="Symbol">)</a> <a id="1324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1326" class="Symbol">λ</a> <a id="1328" class="Symbol">{</a> <a id="1330" class="Symbol">(</a><a id="1331" href="Cubical.Foundations.Prelude.html#20287" class="InductiveConstructor">lift</a> <a id="1336" href="Cubical.Codata.M.itree.html#1336" class="Bound">x</a><a id="1337" class="Symbol">)</a> <a id="1339" class="Symbol">-&gt;</a> <a id="1342" href="Cubical.Codata.M.itree.html#1300" class="Bound">k</a> <a id="1344" href="Cubical.Codata.M.itree.html#1336" class="Bound">x</a> <a id="1346" class="Symbol">}</a> <a id="1348" class="Symbol">)</a>

<a id="1351" class="Comment">-- ITrees (and buildup examples)</a>
<a id="1384" class="Comment">-- https://arxiv.org/pdf/1906.00046.pdf</a>
<a id="1424" class="Comment">-- Interaction Trees: Representing Recursive and Impure Programs in Coq</a>
<a id="1496" class="Comment">-- Li-yao Xia, Yannick Zakowski, Paul He, Chung-Kil Hur, Gregory Malecha, Benjamin C. Pierce, Steve Zdancewic</a>

<a id="itree-S"></a><a id="1607" href="Cubical.Codata.M.itree.html#1607" class="Function">itree-S</a> <a id="1615" class="Symbol">:</a> <a id="1617" class="Symbol">∀</a> <a id="1619" class="Symbol">(</a><a id="1620" href="Cubical.Codata.M.itree.html#1620" class="Bound">E</a> <a id="1622" class="Symbol">:</a> <a id="1624" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1630" class="Symbol">-&gt;</a> <a id="1633" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="1638" class="Symbol">)</a> <a id="1640" class="Symbol">(</a><a id="1641" href="Cubical.Codata.M.itree.html#1641" class="Bound">R</a> <a id="1643" class="Symbol">:</a> <a id="1645" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="1650" class="Symbol">)</a> <a id="1652" class="Symbol">-&gt;</a> <a id="1655" href="Cubical.Codata.M.Container.html#773" class="Function">Container</a> <a id="1665" class="Symbol">(</a><a id="1666" href="Agda.Primitive.html#931" class="Primitive">ℓ-suc</a> <a id="1672" href="Agda.Primitive.html#915" class="Primitive">ℓ-zero</a><a id="1678" class="Symbol">)</a>
<a id="1680" href="Cubical.Codata.M.itree.html#1607" class="Function">itree-S</a> <a id="1688" href="Cubical.Codata.M.itree.html#1688" class="Bound">E</a> <a id="1690" href="Cubical.Codata.M.itree.html#1690" class="Bound">R</a> <a id="1692" class="Symbol">=</a> <a id="1694" class="Symbol">((</a><a id="1696" href="Cubical.Data.Unit.Base.html#172" class="Record">Unit</a> <a id="1701" href="Cubical.Data.Sum.Base.html#207" class="Datatype Operator">⊎</a> <a id="1703" href="Cubical.Codata.M.itree.html#1690" class="Bound">R</a><a id="1704" class="Symbol">)</a> <a id="1706" href="Cubical.Data.Sum.Base.html#207" class="Datatype Operator">⊎</a> <a id="1708" class="Symbol">(</a><a id="1709" href="Cubical.Core.Primitives.html#6268" class="Function">Σ[</a> <a id="1712" href="Cubical.Codata.M.itree.html#1712" class="Bound">A</a> <a id="1714" href="Cubical.Core.Primitives.html#6268" class="Function">∈</a> <a id="1716" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1722" href="Cubical.Core.Primitives.html#6268" class="Function">]</a> <a id="1724" class="Symbol">(</a><a id="1725" href="Cubical.Codata.M.itree.html#1688" class="Bound">E</a> <a id="1727" href="Cubical.Codata.M.itree.html#1712" class="Bound">A</a><a id="1728" class="Symbol">)))</a> <a id="1732" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1734" class="Symbol">(λ</a> <a id="1737" class="Symbol">{</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="1744" class="Symbol">(</a><a id="1745" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="1749" class="Symbol">_))</a> <a id="1753" class="Symbol">-&gt;</a> <a id="1756" href="Cubical.Foundations.Prelude.html#20224" class="Record">Lift</a> <a id="1761" href="Cubical.Data.Unit.Base.html#172" class="Record">Unit</a> <a id="1766" class="Symbol">;</a> <a id="1768" class="Symbol">(</a><a id="1769" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="1778" class="Symbol">_))</a> <a id="1782" class="Symbol">-&gt;</a> <a id="1785" href="Cubical.Codata.M.itree.html#862" class="Datatype">⊥₁</a> <a id="1788" class="Symbol">;</a> <a id="1790" class="Symbol">(</a><a id="1791" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="1795" class="Symbol">(</a><a id="1796" href="Cubical.Codata.M.itree.html#1796" class="Bound">A</a> <a id="1798" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1800" href="Cubical.Codata.M.itree.html#1800" class="Bound">e</a><a id="1801" class="Symbol">))</a> <a id="1804" class="Symbol">-&gt;</a> <a id="1807" href="Cubical.Foundations.Prelude.html#20224" class="Record">Lift</a> <a id="1812" href="Cubical.Codata.M.itree.html#1796" class="Bound">A</a> <a id="1814" class="Symbol">}</a> <a id="1816" class="Symbol">)</a>

<a id="itree"></a><a id="1819" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="1825" class="Symbol">:</a>  <a id="1828" class="Symbol">∀</a> <a id="1830" class="Symbol">(</a><a id="1831" href="Cubical.Codata.M.itree.html#1831" class="Bound">E</a> <a id="1833" class="Symbol">:</a> <a id="1835" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="1841" class="Symbol">-&gt;</a> <a id="1844" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="1849" class="Symbol">)</a> <a id="1851" class="Symbol">(</a><a id="1852" href="Cubical.Codata.M.itree.html#1852" class="Bound">R</a> <a id="1854" class="Symbol">:</a> <a id="1856" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="1861" class="Symbol">)</a> <a id="1863" class="Symbol">-&gt;</a> <a id="1866" href="Agda.Primitive.html#388" class="Primitive">Type₁</a>
<a id="1872" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="1878" href="Cubical.Codata.M.itree.html#1878" class="Bound">E</a> <a id="1880" href="Cubical.Codata.M.itree.html#1880" class="Bound">R</a> <a id="1882" class="Symbol">=</a> <a id="1884" href="Cubical.Codata.M.Container.html#2439" class="Function">M</a> <a id="1886" class="Symbol">(</a><a id="1887" href="Cubical.Codata.M.itree.html#1607" class="Function">itree-S</a> <a id="1895" href="Cubical.Codata.M.itree.html#1878" class="Bound">E</a> <a id="1897" href="Cubical.Codata.M.itree.html#1880" class="Bound">R</a><a id="1898" class="Symbol">)</a>

<a id="ret&#39;"></a><a id="1901" href="Cubical.Codata.M.itree.html#1901" class="Function">ret&#39;</a> <a id="1906" class="Symbol">:</a> <a id="1908" class="Symbol">∀</a> <a id="1910" class="Symbol">{</a><a id="1911" href="Cubical.Codata.M.itree.html#1911" class="Bound">E</a><a id="1912" class="Symbol">}</a> <a id="1914" class="Symbol">{</a><a id="1915" href="Cubical.Codata.M.itree.html#1915" class="Bound">R</a><a id="1916" class="Symbol">}</a>  <a id="1919" class="Symbol">-&gt;</a> <a id="1922" href="Cubical.Codata.M.itree.html#1915" class="Bound">R</a> <a id="1924" class="Symbol">-&gt;</a> <a id="1927" href="Cubical.Codata.M.Container.html#995" class="Function">P₀</a> <a id="1930" class="Symbol">(</a><a id="1931" href="Cubical.Codata.M.itree.html#1607" class="Function">itree-S</a> <a id="1939" href="Cubical.Codata.M.itree.html#1911" class="Bound">E</a> <a id="1941" href="Cubical.Codata.M.itree.html#1915" class="Bound">R</a><a id="1942" class="Symbol">)</a> <a id="1944" class="Symbol">(</a><a id="1945" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="1951" href="Cubical.Codata.M.itree.html#1911" class="Bound">E</a> <a id="1953" href="Cubical.Codata.M.itree.html#1915" class="Bound">R</a><a id="1954" class="Symbol">)</a>
<a id="1956" href="Cubical.Codata.M.itree.html#1901" class="Function">ret&#39;</a> <a id="1961" class="Symbol">{</a><a id="1962" href="Cubical.Codata.M.itree.html#1962" class="Bound">E</a><a id="1963" class="Symbol">}</a> <a id="1965" class="Symbol">{</a><a id="1966" href="Cubical.Codata.M.itree.html#1966" class="Bound">R</a><a id="1967" class="Symbol">}</a> <a id="1969" href="Cubical.Codata.M.itree.html#1969" class="Bound">r</a> <a id="1971" class="Symbol">=</a> <a id="1973" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="1977" class="Symbol">(</a><a id="1978" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="1982" href="Cubical.Codata.M.itree.html#1969" class="Bound">r</a><a id="1983" class="Symbol">)</a> <a id="1985" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1987" class="Symbol">λ</a> <a id="1989" class="Symbol">()</a>

<a id="tau&#39;"></a><a id="1993" href="Cubical.Codata.M.itree.html#1993" class="Function">tau&#39;</a> <a id="1998" class="Symbol">:</a> <a id="2000" class="Symbol">{</a><a id="2001" href="Cubical.Codata.M.itree.html#2001" class="Bound">E</a> <a id="2003" class="Symbol">:</a> <a id="2005" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="2011" class="Symbol">-&gt;</a> <a id="2014" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="2019" class="Symbol">}</a> <a id="2021" class="Symbol">-&gt;</a> <a id="2024" class="Symbol">{</a><a id="2025" href="Cubical.Codata.M.itree.html#2025" class="Bound">R</a> <a id="2027" class="Symbol">:</a> <a id="2029" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2034" class="Symbol">}</a> <a id="2036" class="Symbol">-&gt;</a> <a id="2039" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2045" href="Cubical.Codata.M.itree.html#2001" class="Bound">E</a> <a id="2047" href="Cubical.Codata.M.itree.html#2025" class="Bound">R</a> <a id="2049" class="Symbol">-&gt;</a> <a id="2052" href="Cubical.Codata.M.Container.html#995" class="Function">P₀</a> <a id="2055" class="Symbol">(</a><a id="2056" href="Cubical.Codata.M.itree.html#1607" class="Function">itree-S</a> <a id="2064" href="Cubical.Codata.M.itree.html#2001" class="Bound">E</a> <a id="2066" href="Cubical.Codata.M.itree.html#2025" class="Bound">R</a><a id="2067" class="Symbol">)</a> <a id="2069" class="Symbol">(</a><a id="2070" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2076" href="Cubical.Codata.M.itree.html#2001" class="Bound">E</a> <a id="2078" href="Cubical.Codata.M.itree.html#2025" class="Bound">R</a><a id="2079" class="Symbol">)</a>
<a id="2081" href="Cubical.Codata.M.itree.html#1993" class="Function">tau&#39;</a> <a id="2086" href="Cubical.Codata.M.itree.html#2086" class="Bound">t</a> <a id="2088" class="Symbol">=</a> <a id="2090" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Cubical.Data.Sum.Base.html#265" class="InductiveConstructor">inl</a> <a id="2099" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="2101" class="Symbol">)</a> <a id="2103" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2105" class="Symbol">λ</a> <a id="2107" href="Cubical.Codata.M.itree.html#2107" class="Bound">x</a> <a id="2109" class="Symbol">→</a> <a id="2111" href="Cubical.Codata.M.itree.html#2086" class="Bound">t</a>

<a id="vis&#39;"></a><a id="2114" href="Cubical.Codata.M.itree.html#2114" class="Function">vis&#39;</a> <a id="2119" class="Symbol">:</a> <a id="2121" class="Symbol">∀</a> <a id="2123" class="Symbol">{</a><a id="2124" href="Cubical.Codata.M.itree.html#2124" class="Bound">E</a><a id="2125" class="Symbol">}</a> <a id="2127" class="Symbol">{</a><a id="2128" href="Cubical.Codata.M.itree.html#2128" class="Bound">R</a><a id="2129" class="Symbol">}</a>  <a id="2132" class="Symbol">-&gt;</a> <a id="2135" class="Symbol">∀</a> <a id="2137" class="Symbol">{</a><a id="2138" href="Cubical.Codata.M.itree.html#2138" class="Bound">A</a> <a id="2140" class="Symbol">:</a> <a id="2142" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2147" class="Symbol">}</a> <a id="2149" class="Symbol">-&gt;</a> <a id="2152" href="Cubical.Codata.M.itree.html#2124" class="Bound">E</a> <a id="2154" href="Cubical.Codata.M.itree.html#2138" class="Bound">A</a> <a id="2156" class="Symbol">-&gt;</a> <a id="2159" class="Symbol">(</a><a id="2160" href="Cubical.Codata.M.itree.html#2138" class="Bound">A</a> <a id="2162" class="Symbol">-&gt;</a> <a id="2165" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2171" href="Cubical.Codata.M.itree.html#2124" class="Bound">E</a> <a id="2173" href="Cubical.Codata.M.itree.html#2128" class="Bound">R</a><a id="2174" class="Symbol">)</a> <a id="2176" class="Symbol">-&gt;</a> <a id="2179" href="Cubical.Codata.M.Container.html#995" class="Function">P₀</a> <a id="2182" class="Symbol">(</a><a id="2183" href="Cubical.Codata.M.itree.html#1607" class="Function">itree-S</a> <a id="2191" href="Cubical.Codata.M.itree.html#2124" class="Bound">E</a> <a id="2193" href="Cubical.Codata.M.itree.html#2128" class="Bound">R</a><a id="2194" class="Symbol">)</a> <a id="2196" class="Symbol">(</a><a id="2197" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2203" href="Cubical.Codata.M.itree.html#2124" class="Bound">E</a> <a id="2205" href="Cubical.Codata.M.itree.html#2128" class="Bound">R</a><a id="2206" class="Symbol">)</a>
<a id="2208" href="Cubical.Codata.M.itree.html#2114" class="Function">vis&#39;</a> <a id="2213" class="Symbol">{</a><a id="2214" class="Argument">A</a> <a id="2216" class="Symbol">=</a> <a id="2218" href="Cubical.Codata.M.itree.html#2218" class="Bound">A</a><a id="2219" class="Symbol">}</a> <a id="2221" href="Cubical.Codata.M.itree.html#2221" class="Bound">e</a> <a id="2223" href="Cubical.Codata.M.itree.html#2223" class="Bound">k</a> <a id="2225" class="Symbol">=</a> <a id="2227" href="Cubical.Data.Sum.Base.html#283" class="InductiveConstructor">inr</a> <a id="2231" class="Symbol">(</a><a id="2232" href="Cubical.Codata.M.itree.html#2218" class="Bound">A</a> <a id="2234" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2236" href="Cubical.Codata.M.itree.html#2221" class="Bound">e</a><a id="2237" class="Symbol">)</a> <a id="2239" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2241" class="Symbol">λ</a> <a id="2243" class="Symbol">{</a> <a id="2245" class="Symbol">(</a><a id="2246" href="Cubical.Foundations.Prelude.html#20287" class="InductiveConstructor">lift</a> <a id="2251" href="Cubical.Codata.M.itree.html#2251" class="Bound">x</a><a id="2252" class="Symbol">)</a> <a id="2254" class="Symbol">-&gt;</a> <a id="2257" href="Cubical.Codata.M.itree.html#2223" class="Bound">k</a> <a id="2259" href="Cubical.Codata.M.itree.html#2251" class="Bound">x</a> <a id="2261" class="Symbol">}</a>

<a id="ret"></a><a id="2264" href="Cubical.Codata.M.itree.html#2264" class="Function">ret</a> <a id="2268" class="Symbol">:</a> <a id="2270" class="Symbol">∀</a> <a id="2272" class="Symbol">{</a><a id="2273" href="Cubical.Codata.M.itree.html#2273" class="Bound">E</a><a id="2274" class="Symbol">}</a> <a id="2276" class="Symbol">{</a><a id="2277" href="Cubical.Codata.M.itree.html#2277" class="Bound">R</a><a id="2278" class="Symbol">}</a>  <a id="2281" class="Symbol">-&gt;</a> <a id="2284" href="Cubical.Codata.M.itree.html#2277" class="Bound">R</a> <a id="2286" class="Symbol">-&gt;</a> <a id="2289" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2295" href="Cubical.Codata.M.itree.html#2273" class="Bound">E</a> <a id="2297" href="Cubical.Codata.M.itree.html#2277" class="Bound">R</a>
<a id="2299" href="Cubical.Codata.M.itree.html#2264" class="Function">ret</a> <a id="2303" class="Symbol">=</a> <a id="2305" href="Cubical.Codata.M.M.Base.html#8933" class="Function">in-fun</a> <a id="2312" href="Cubical.Foundations.Function.html#665" class="Function Operator">∘</a> <a id="2314" href="Cubical.Codata.M.itree.html#1901" class="Function">ret&#39;</a>

<a id="tau"></a><a id="2320" href="Cubical.Codata.M.itree.html#2320" class="Function">tau</a> <a id="2324" class="Symbol">:</a> <a id="2326" class="Symbol">{</a><a id="2327" href="Cubical.Codata.M.itree.html#2327" class="Bound">E</a> <a id="2329" class="Symbol">:</a> <a id="2331" href="Agda.Primitive.html#388" class="Primitive">Type₀</a> <a id="2337" class="Symbol">-&gt;</a> <a id="2340" href="Agda.Primitive.html#388" class="Primitive">Type₁</a><a id="2345" class="Symbol">}</a> <a id="2347" class="Symbol">-&gt;</a> <a id="2350" class="Symbol">{</a><a id="2351" href="Cubical.Codata.M.itree.html#2351" class="Bound">R</a> <a id="2353" class="Symbol">:</a> <a id="2355" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2360" class="Symbol">}</a> <a id="2362" class="Symbol">-&gt;</a> <a id="2365" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2371" href="Cubical.Codata.M.itree.html#2327" class="Bound">E</a> <a id="2373" href="Cubical.Codata.M.itree.html#2351" class="Bound">R</a> <a id="2375" class="Symbol">-&gt;</a> <a id="2378" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2384" href="Cubical.Codata.M.itree.html#2327" class="Bound">E</a> <a id="2386" href="Cubical.Codata.M.itree.html#2351" class="Bound">R</a>
<a id="2388" href="Cubical.Codata.M.itree.html#2320" class="Function">tau</a> <a id="2392" class="Symbol">=</a> <a id="2394" href="Cubical.Codata.M.M.Base.html#8933" class="Function">in-fun</a> <a id="2401" href="Cubical.Foundations.Function.html#665" class="Function Operator">∘</a> <a id="2403" href="Cubical.Codata.M.itree.html#1993" class="Function">tau&#39;</a>

<a id="vis"></a><a id="2409" href="Cubical.Codata.M.itree.html#2409" class="Function">vis</a> <a id="2413" class="Symbol">:</a> <a id="2415" class="Symbol">∀</a> <a id="2417" class="Symbol">{</a><a id="2418" href="Cubical.Codata.M.itree.html#2418" class="Bound">E</a><a id="2419" class="Symbol">}</a> <a id="2421" class="Symbol">{</a><a id="2422" href="Cubical.Codata.M.itree.html#2422" class="Bound">R</a><a id="2423" class="Symbol">}</a>  <a id="2426" class="Symbol">-&gt;</a> <a id="2429" class="Symbol">∀</a> <a id="2431" class="Symbol">{</a><a id="2432" href="Cubical.Codata.M.itree.html#2432" class="Bound">A</a> <a id="2434" class="Symbol">:</a> <a id="2436" href="Agda.Primitive.html#388" class="Primitive">Type₀</a><a id="2441" class="Symbol">}</a> <a id="2443" class="Symbol">-&gt;</a> <a id="2446" href="Cubical.Codata.M.itree.html#2418" class="Bound">E</a> <a id="2448" href="Cubical.Codata.M.itree.html#2432" class="Bound">A</a> <a id="2450" class="Symbol">-&gt;</a> <a id="2453" class="Symbol">(</a><a id="2454" href="Cubical.Codata.M.itree.html#2432" class="Bound">A</a> <a id="2456" class="Symbol">-&gt;</a> <a id="2459" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2465" href="Cubical.Codata.M.itree.html#2418" class="Bound">E</a> <a id="2467" href="Cubical.Codata.M.itree.html#2422" class="Bound">R</a><a id="2468" class="Symbol">)</a> <a id="2470" class="Symbol">-&gt;</a> <a id="2473" href="Cubical.Codata.M.itree.html#1819" class="Function">itree</a> <a id="2479" href="Cubical.Codata.M.itree.html#2418" class="Bound">E</a> <a id="2481" href="Cubical.Codata.M.itree.html#2422" class="Bound">R</a>
<a id="2483" href="Cubical.Codata.M.itree.html#2409" class="Function">vis</a> <a id="2487" class="Symbol">{</a><a id="2488" class="Argument">A</a> <a id="2490" class="Symbol">=</a> <a id="2492" href="Cubical.Codata.M.itree.html#2492" class="Bound">A</a><a id="2493" class="Symbol">}</a> <a id="2495" href="Cubical.Codata.M.itree.html#2495" class="Bound">e</a> <a id="2497" class="Symbol">=</a> <a id="2499" href="Cubical.Codata.M.M.Base.html#8933" class="Function">in-fun</a> <a id="2506" href="Cubical.Foundations.Function.html#665" class="Function Operator">∘</a> <a id="2508" class="Symbol">(</a><a id="2509" href="Cubical.Codata.M.itree.html#2114" class="Function">vis&#39;</a> <a id="2514" class="Symbol">{</a><a id="2515" class="Argument">A</a> <a id="2517" class="Symbol">=</a> <a id="2519" href="Cubical.Codata.M.itree.html#2492" class="Bound">A</a><a id="2520" class="Symbol">}</a> <a id="2522" href="Cubical.Codata.M.itree.html#2495" class="Bound">e</a><a id="2523" class="Symbol">)</a>
</pre></body></html>