<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.HITs.Replacement.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

Type-theoretic replacement: a construction taking a map F : A ‚Üí B where
  - A : Type ‚ÑìA
  - B : Type ‚ÑìB,
  - the identity types of B essentially have universe level ‚Ñì‚âÖB,
and producing an image of F with universe level (‚Ñì-max ‚ÑìA ‚Ñì‚âÖB).

See Axiom 18.1.8 in

Egbert Rijke
Introduction to Homotopy Theory
https://arxiv.org/abs/2212.11082

for a definition of type-theoretic replacement.

This module constructs the replacement using higher induction-recursion. It is
possible to construct the replacement with much less powerful HITs, for which
see

Egbert Rijke
The join construction
https://arxiv.org/abs/1701.07538

but higher IR allows for a particularly simple construction.

---

The datatype defined in this module originally included a third constructor
forcing the path constructor to preserve reflexivity, but Am√©lia Liao and David
W√§rn independently observed that this was unnecessary.

-}</a>
<a id="902" class="Keyword">module</a> <a id="909" href="Cubical.HITs.Replacement.Base.html" class="Module">Cubical.HITs.Replacement.Base</a> <a id="939" class="Keyword">where</a>

<a id="946" class="Keyword">open</a> <a id="951" class="Keyword">import</a> <a id="958" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="986" class="Keyword">open</a> <a id="991" class="Keyword">import</a> <a id="998" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="1026" class="Keyword">open</a> <a id="1031" class="Keyword">import</a> <a id="1038" href="Cubical.Functions.Embedding.html" class="Module">Cubical.Functions.Embedding</a>
<a id="1066" class="Keyword">open</a> <a id="1071" class="Keyword">import</a> <a id="1078" href="Cubical.Functions.Image.html" class="Module">Cubical.Functions.Image</a>
<a id="1102" class="Keyword">open</a> <a id="1107" class="Keyword">import</a> <a id="1114" href="Cubical.HITs.PropositionalTruncation.html" class="Module">Cubical.HITs.PropositionalTruncation</a> <a id="1151" class="Symbol">as</a> <a id="1154" class="Module">Prop</a>
<a id="1159" class="Keyword">open</a> <a id="1164" class="Keyword">import</a> <a id="1171" href="Cubical.Foundations.Isomorphism.html" class="Module">Cubical.Foundations.Isomorphism</a>
<a id="1203" class="Keyword">open</a> <a id="1208" class="Keyword">import</a> <a id="1215" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="1241" class="Keyword">open</a> <a id="1246" class="Keyword">import</a> <a id="1253" href="Cubical.Foundations.Equiv.Fiberwise.html" class="Module">Cubical.Foundations.Equiv.Fiberwise</a>
<a id="1289" class="Keyword">open</a> <a id="1294" class="Keyword">import</a> <a id="1301" href="Cubical.Functions.Surjection.html" class="Module">Cubical.Functions.Surjection</a>
<a id="1330" class="Keyword">open</a> <a id="1335" class="Keyword">import</a> <a id="1342" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="1361" class="Keyword">open</a> <a id="1366" class="Keyword">import</a> <a id="1373" href="Cubical.Displayed.Base.html" class="Module">Cubical.Displayed.Base</a>

<a id="1397" class="Keyword">module</a> <a id="1404" href="Cubical.HITs.Replacement.Base.html#1404" class="Module">_</a> <a id="1406" class="Symbol">{</a><a id="1407" href="Cubical.HITs.Replacement.Base.html#1407" class="Bound">‚ÑìA</a> <a id="1410" href="Cubical.HITs.Replacement.Base.html#1410" class="Bound">‚ÑìB</a> <a id="1413" href="Cubical.HITs.Replacement.Base.html#1413" class="Bound">‚Ñì‚âÖB</a><a id="1416" class="Symbol">}</a> <a id="1418" class="Symbol">{</a><a id="1419" href="Cubical.HITs.Replacement.Base.html#1419" class="Bound">A</a> <a id="1421" class="Symbol">:</a> <a id="1423" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1428" href="Cubical.HITs.Replacement.Base.html#1407" class="Bound">‚ÑìA</a><a id="1430" class="Symbol">}</a> <a id="1432" class="Symbol">{</a><a id="1433" href="Cubical.HITs.Replacement.Base.html#1433" class="Bound">B</a> <a id="1435" class="Symbol">:</a> <a id="1437" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1442" href="Cubical.HITs.Replacement.Base.html#1410" class="Bound">‚ÑìB</a><a id="1444" class="Symbol">}</a> <a id="1446" class="Symbol">(</a><a id="1447" href="Cubical.HITs.Replacement.Base.html#1447" class="Bound">ùíÆ-B</a> <a id="1451" class="Symbol">:</a> <a id="1453" href="Cubical.Displayed.Base.html#667" class="Record">UARel</a> <a id="1459" href="Cubical.HITs.Replacement.Base.html#1433" class="Bound">B</a> <a id="1461" href="Cubical.HITs.Replacement.Base.html#1413" class="Bound">‚Ñì‚âÖB</a><a id="1464" class="Symbol">)</a> <a id="1466" class="Symbol">(</a><a id="1467" href="Cubical.HITs.Replacement.Base.html#1467" class="Bound">f</a> <a id="1469" class="Symbol">:</a> <a id="1471" href="Cubical.HITs.Replacement.Base.html#1419" class="Bound">A</a> <a id="1473" class="Symbol">‚Üí</a> <a id="1475" href="Cubical.HITs.Replacement.Base.html#1433" class="Bound">B</a><a id="1476" class="Symbol">)</a>  <a id="1479" class="Keyword">where</a>

  <a id="1488" class="Keyword">module</a> <a id="1495" href="Cubical.HITs.Replacement.Base.html#1495" class="Module">B</a> <a id="1497" class="Symbol">=</a> <a id="1499" href="Cubical.Displayed.Base.html#667" class="Module">UARel</a> <a id="1505" href="Cubical.HITs.Replacement.Base.html#1447" class="Bound">ùíÆ-B</a>

  <a id="1512" class="Keyword">data</a> <a id="1517" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1536" class="Symbol">(</a><a id="1537" href="Agda.Primitive.html#961" class="Primitive">‚Ñì-max</a> <a id="1543" href="Cubical.HITs.Replacement.Base.html#1407" class="Bound">‚ÑìA</a> <a id="1546" href="Cubical.HITs.Replacement.Base.html#1413" class="Bound">‚Ñì‚âÖB</a><a id="1549" class="Symbol">)</a>
  <a id="1553" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="1559" class="Symbol">:</a> <a id="1561" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a> <a id="1573" class="Symbol">‚Üí</a> <a id="1575" href="Cubical.HITs.Replacement.Base.html#1433" class="Bound">B</a>

  <a id="1580" class="Keyword">data</a> <a id="1585" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a> <a id="1597" class="Keyword">where</a>
    <a id="1607" href="Cubical.HITs.Replacement.Base.html#1607" class="InductiveConstructor">rep</a> <a id="1611" class="Symbol">:</a> <a id="1613" href="Cubical.HITs.Replacement.Base.html#1419" class="Bound">A</a> <a id="1615" class="Symbol">‚Üí</a> <a id="1617" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a>
    <a id="1633" href="Cubical.HITs.Replacement.Base.html#1633" class="InductiveConstructor">quo</a> <a id="1637" class="Symbol">:</a> <a id="1639" class="Symbol">‚àÄ</a> <a id="1641" href="Cubical.HITs.Replacement.Base.html#1641" class="Bound">r</a> <a id="1643" href="Cubical.HITs.Replacement.Base.html#1643" class="Bound">r&#39;</a> <a id="1646" class="Symbol">‚Üí</a> <a id="1648" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="1654" href="Cubical.HITs.Replacement.Base.html#1641" class="Bound">r</a> <a id="1656" href="Cubical.Displayed.Base.html#787" class="Function Operator">B.‚âÖ</a> <a id="1660" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="1666" href="Cubical.HITs.Replacement.Base.html#1643" class="Bound">r&#39;</a> <a id="1669" class="Symbol">‚Üí</a> <a id="1671" href="Cubical.HITs.Replacement.Base.html#1641" class="Bound">r</a> <a id="1673" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">‚â°</a> <a id="1675" href="Cubical.HITs.Replacement.Base.html#1643" class="Bound">r&#39;</a>

  <a id="1681" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="1687" class="Symbol">(</a><a id="1688" href="Cubical.HITs.Replacement.Base.html#1607" class="InductiveConstructor">rep</a> <a id="1692" href="Cubical.HITs.Replacement.Base.html#1692" class="Bound">a</a><a id="1693" class="Symbol">)</a> <a id="1695" class="Symbol">=</a> <a id="1697" href="Cubical.HITs.Replacement.Base.html#1467" class="Bound">f</a> <a id="1699" href="Cubical.HITs.Replacement.Base.html#1692" class="Bound">a</a>
  <a id="1703" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="1709" class="Symbol">(</a><a id="1710" href="Cubical.HITs.Replacement.Base.html#1633" class="InductiveConstructor">quo</a> <a id="1714" href="Cubical.HITs.Replacement.Base.html#1714" class="Bound">r</a> <a id="1716" href="Cubical.HITs.Replacement.Base.html#1716" class="Bound">r&#39;</a> <a id="1719" href="Cubical.HITs.Replacement.Base.html#1719" class="Bound">eqv</a> <a id="1723" href="Cubical.HITs.Replacement.Base.html#1723" class="Bound">i</a><a id="1724" class="Symbol">)</a> <a id="1726" class="Symbol">=</a> <a id="1728" href="Cubical.Displayed.Base.html#937" class="Function">B.‚âÖ‚Üí‚â°</a> <a id="1734" href="Cubical.HITs.Replacement.Base.html#1719" class="Bound">eqv</a> <a id="1738" href="Cubical.HITs.Replacement.Base.html#1723" class="Bound">i</a>

  <a id="1743" class="Comment">{-
    To eliminate into a proposition, we need only provide the point constructor
    case.
  -}</a>

  <a id="1844" href="Cubical.HITs.Replacement.Base.html#1844" class="Function">elimProp</a> <a id="1853" class="Symbol">:</a> <a id="1855" class="Symbol">‚àÄ</a> <a id="1857" class="Symbol">{</a><a id="1858" href="Cubical.HITs.Replacement.Base.html#1858" class="Bound">‚Ñì</a><a id="1859" class="Symbol">}</a> <a id="1861" class="Symbol">{</a><a id="1862" href="Cubical.HITs.Replacement.Base.html#1862" class="Bound">P</a> <a id="1864" class="Symbol">:</a> <a id="1866" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a> <a id="1878" class="Symbol">‚Üí</a> <a id="1880" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1885" href="Cubical.HITs.Replacement.Base.html#1858" class="Bound">‚Ñì</a><a id="1886" class="Symbol">}</a>
    <a id="1892" class="Symbol">‚Üí</a> <a id="1894" class="Symbol">((</a><a id="1896" href="Cubical.HITs.Replacement.Base.html#1896" class="Bound">r</a> <a id="1898" class="Symbol">:</a> <a id="1900" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a><a id="1911" class="Symbol">)</a> <a id="1913" class="Symbol">‚Üí</a> <a id="1915" href="Cubical.Foundations.Prelude.html#15524" class="Function">isProp</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Cubical.HITs.Replacement.Base.html#1862" class="Bound">P</a> <a id="1925" href="Cubical.HITs.Replacement.Base.html#1896" class="Bound">r</a><a id="1926" class="Symbol">))</a>
    <a id="1933" class="Symbol">‚Üí</a> <a id="1935" class="Symbol">((</a><a id="1937" href="Cubical.HITs.Replacement.Base.html#1937" class="Bound">x</a> <a id="1939" class="Symbol">:</a> <a id="1941" href="Cubical.HITs.Replacement.Base.html#1419" class="Bound">A</a><a id="1942" class="Symbol">)</a> <a id="1944" class="Symbol">‚Üí</a> <a id="1946" href="Cubical.HITs.Replacement.Base.html#1862" class="Bound">P</a> <a id="1948" class="Symbol">(</a><a id="1949" href="Cubical.HITs.Replacement.Base.html#1607" class="InductiveConstructor">rep</a> <a id="1953" href="Cubical.HITs.Replacement.Base.html#1937" class="Bound">x</a><a id="1954" class="Symbol">))</a>
    <a id="1961" class="Symbol">‚Üí</a> <a id="1963" class="Symbol">(</a><a id="1964" href="Cubical.HITs.Replacement.Base.html#1964" class="Bound">r</a> <a id="1966" class="Symbol">:</a> <a id="1968" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a><a id="1979" class="Symbol">)</a> <a id="1981" class="Symbol">‚Üí</a> <a id="1983" href="Cubical.HITs.Replacement.Base.html#1862" class="Bound">P</a> <a id="1985" href="Cubical.HITs.Replacement.Base.html#1964" class="Bound">r</a>
  <a id="1989" href="Cubical.HITs.Replacement.Base.html#1844" class="Function">elimProp</a> <a id="1998" href="Cubical.HITs.Replacement.Base.html#1998" class="Bound">prop</a> <a id="2003" href="Cubical.HITs.Replacement.Base.html#2003" class="Bound">g</a> <a id="2005" class="Symbol">(</a><a id="2006" href="Cubical.HITs.Replacement.Base.html#1607" class="InductiveConstructor">rep</a> <a id="2010" href="Cubical.HITs.Replacement.Base.html#2010" class="Bound">x</a><a id="2011" class="Symbol">)</a> <a id="2013" class="Symbol">=</a> <a id="2015" href="Cubical.HITs.Replacement.Base.html#2003" class="Bound">g</a> <a id="2017" href="Cubical.HITs.Replacement.Base.html#2010" class="Bound">x</a>
  <a id="2021" href="Cubical.HITs.Replacement.Base.html#1844" class="Function">elimProp</a> <a id="2030" href="Cubical.HITs.Replacement.Base.html#2030" class="Bound">prop</a> <a id="2035" href="Cubical.HITs.Replacement.Base.html#2035" class="Bound">g</a> <a id="2037" class="Symbol">(</a><a id="2038" href="Cubical.HITs.Replacement.Base.html#1633" class="InductiveConstructor">quo</a> <a id="2042" href="Cubical.HITs.Replacement.Base.html#2042" class="Bound">r</a> <a id="2044" href="Cubical.HITs.Replacement.Base.html#2044" class="Bound">r&#39;</a> <a id="2047" href="Cubical.HITs.Replacement.Base.html#2047" class="Bound">eqv</a> <a id="2051" href="Cubical.HITs.Replacement.Base.html#2051" class="Bound">i</a><a id="2052" class="Symbol">)</a> <a id="2054" class="Symbol">=</a>
    <a id="2060" href="Cubical.Foundations.Prelude.html#19246" class="Function">isProp‚ÜíPathP</a> <a id="2073" class="Symbol">(Œª</a> <a id="2076" href="Cubical.HITs.Replacement.Base.html#2076" class="Bound">i</a> <a id="2078" class="Symbol">‚Üí</a> <a id="2080" href="Cubical.HITs.Replacement.Base.html#2030" class="Bound">prop</a> <a id="2085" class="Symbol">(</a><a id="2086" href="Cubical.HITs.Replacement.Base.html#1633" class="InductiveConstructor">quo</a> <a id="2090" href="Cubical.HITs.Replacement.Base.html#2042" class="Bound">r</a> <a id="2092" href="Cubical.HITs.Replacement.Base.html#2044" class="Bound">r&#39;</a> <a id="2095" href="Cubical.HITs.Replacement.Base.html#2047" class="Bound">eqv</a> <a id="2099" href="Cubical.HITs.Replacement.Base.html#2076" class="Bound">i</a><a id="2100" class="Symbol">))</a>
      <a id="2109" class="Symbol">(</a><a id="2110" href="Cubical.HITs.Replacement.Base.html#1844" class="Function">elimProp</a> <a id="2119" href="Cubical.HITs.Replacement.Base.html#2030" class="Bound">prop</a> <a id="2124" href="Cubical.HITs.Replacement.Base.html#2035" class="Bound">g</a> <a id="2126" href="Cubical.HITs.Replacement.Base.html#2042" class="Bound">r</a><a id="2127" class="Symbol">)</a>
      <a id="2135" class="Symbol">(</a><a id="2136" href="Cubical.HITs.Replacement.Base.html#1844" class="Function">elimProp</a> <a id="2145" href="Cubical.HITs.Replacement.Base.html#2030" class="Bound">prop</a> <a id="2150" href="Cubical.HITs.Replacement.Base.html#2035" class="Bound">g</a> <a id="2152" href="Cubical.HITs.Replacement.Base.html#2044" class="Bound">r&#39;</a><a id="2154" class="Symbol">)</a>
      <a id="2162" href="Cubical.HITs.Replacement.Base.html#2051" class="Bound">i</a>

  <a id="2167" class="Comment">{-
    Our image factorization is F ‚â° unrep ‚àò rep.
    Note that this equation holds judgmentally.
  -}</a>

  <a id="2274" class="Comment">-- Surjection half of the image factorization</a>

  <a id="2323" href="Cubical.HITs.Replacement.Base.html#2323" class="Function">isSurjectiveRep</a> <a id="2339" class="Symbol">:</a> <a id="2341" href="Cubical.Functions.Surjection.html#659" class="Function">isSurjection</a> <a id="2354" href="Cubical.HITs.Replacement.Base.html#1607" class="InductiveConstructor">rep</a>
  <a id="2360" href="Cubical.HITs.Replacement.Base.html#2323" class="Function">isSurjectiveRep</a> <a id="2376" class="Symbol">=</a> <a id="2378" href="Cubical.HITs.Replacement.Base.html#1844" class="Function">elimProp</a> <a id="2387" class="Symbol">(Œª</a> <a id="2390" href="Cubical.HITs.Replacement.Base.html#2390" class="Bound">_</a> <a id="2392" class="Symbol">‚Üí</a> <a id="2394" href="Cubical.HITs.PropositionalTruncation.Base.html#285" class="InductiveConstructor">squash‚ÇÅ</a><a id="2401" class="Symbol">)</a> <a id="2403" class="Symbol">(Œª</a> <a id="2406" href="Cubical.HITs.Replacement.Base.html#2406" class="Bound">x</a> <a id="2408" class="Symbol">‚Üí</a> <a id="2410" href="Cubical.HITs.PropositionalTruncation.Base.html#265" class="InductiveConstructor Operator">‚à£</a> <a id="2412" href="Cubical.HITs.Replacement.Base.html#2406" class="Bound">x</a> <a id="2414" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2416" href="Cubical.Foundations.Prelude.html#892" class="Function">refl</a> <a id="2421" href="Cubical.HITs.PropositionalTruncation.Base.html#265" class="InductiveConstructor Operator">‚à£‚ÇÅ</a><a id="2423" class="Symbol">)</a>

  <a id="2428" class="Comment">-- Embedding half of the image factorization</a>

  <a id="2476" href="Cubical.HITs.Replacement.Base.html#2476" class="Function">isEmbeddingUnrep</a> <a id="2493" class="Symbol">:</a> <a id="2495" href="Cubical.Functions.Embedding.html#1319" class="Function">isEmbedding</a> <a id="2507" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a>
  <a id="2515" href="Cubical.HITs.Replacement.Base.html#2476" class="Function">isEmbeddingUnrep</a> <a id="2532" class="Symbol">=</a>
    <a id="2538" href="Cubical.Functions.Embedding.html#4242" class="Function">hasPropFibersOfImage‚ÜíisEmbedding</a> <a id="2571" class="Symbol">Œª</a> <a id="2573" href="Cubical.HITs.Replacement.Base.html#2573" class="Bound">r</a> <a id="2575" class="Symbol">‚Üí</a>
    <a id="2581" href="Cubical.Foundations.HLevels.html#7447" class="Function">isOfHLevelRetract</a> <a id="2599" class="Number">1</a>
      <a id="2607" class="Symbol">(</a><a id="2608" href="Cubical.Data.Sigma.Properties.html#1423" class="Function">map-snd</a> <a id="2616" class="Symbol">(Œª</a> <a id="2619" href="Cubical.HITs.Replacement.Base.html#2619" class="Bound">p</a> <a id="2621" class="Symbol">‚Üí</a> <a id="2623" href="Cubical.Foundations.Prelude.html#945" class="Function">sym</a> <a id="2627" class="Symbol">(</a><a id="2628" href="Cubical.HITs.Replacement.Base.html#2769" class="Function">inv</a> <a id="2632" class="Symbol">_</a> <a id="2634" href="Cubical.HITs.Replacement.Base.html#2573" class="Bound">r</a> <a id="2636" href="Cubical.HITs.Replacement.Base.html#2619" class="Bound">p</a><a id="2637" class="Symbol">)))</a>
      <a id="2647" class="Symbol">(</a><a id="2648" href="Cubical.Data.Sigma.Properties.html#1423" class="Function">map-snd</a> <a id="2656" class="Symbol">(Œª</a> <a id="2659" href="Cubical.HITs.Replacement.Base.html#2659" class="Bound">p</a> <a id="2661" class="Symbol">‚Üí</a> <a id="2663" href="Cubical.Foundations.Prelude.html#945" class="Function">sym</a> <a id="2667" class="Symbol">(</a><a id="2668" href="Cubical.Foundations.Prelude.html#1407" class="Function">cong</a> <a id="2673" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="2679" href="Cubical.HITs.Replacement.Base.html#2659" class="Bound">p</a><a id="2680" class="Symbol">)))</a>
      <a id="2690" class="Symbol">(Œª</a> <a id="2693" class="Symbol">(</a><a id="2694" href="Cubical.HITs.Replacement.Base.html#2694" class="Bound">r&#39;</a> <a id="2697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2699" href="Cubical.HITs.Replacement.Base.html#2699" class="Bound">p</a><a id="2700" class="Symbol">)</a> <a id="2702" class="Symbol">‚Üí</a> <a id="2704" href="Cubical.Data.Sigma.Properties.html#1896" class="Function">Œ£PathP</a> <a id="2711" class="Symbol">(</a><a id="2712" href="Cubical.Foundations.Prelude.html#892" class="Function">refl</a> <a id="2717" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2719" href="Cubical.HITs.Replacement.Base.html#2853" class="Function">unrepInv</a> <a id="2728" href="Cubical.HITs.Replacement.Base.html#2694" class="Bound">r&#39;</a> <a id="2731" href="Cubical.HITs.Replacement.Base.html#2573" class="Bound">r</a> <a id="2733" href="Cubical.HITs.Replacement.Base.html#2699" class="Bound">p</a><a id="2734" class="Symbol">))</a>
      <a id="2743" href="Cubical.Foundations.Prelude.html#20400" class="Function">isPropSingl</a>
    <a id="2759" class="Keyword">where</a>
    <a id="2769" href="Cubical.HITs.Replacement.Base.html#2769" class="Function">inv</a> <a id="2773" class="Symbol">:</a> <a id="2775" class="Symbol">‚àÄ</a> <a id="2777" href="Cubical.HITs.Replacement.Base.html#2777" class="Bound">r</a> <a id="2779" href="Cubical.HITs.Replacement.Base.html#2779" class="Bound">r&#39;</a> <a id="2782" class="Symbol">‚Üí</a> <a id="2784" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="2790" href="Cubical.HITs.Replacement.Base.html#2777" class="Bound">r</a> <a id="2792" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">‚â°</a> <a id="2794" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="2800" href="Cubical.HITs.Replacement.Base.html#2779" class="Bound">r&#39;</a> <a id="2803" class="Symbol">‚Üí</a> <a id="2805" href="Cubical.HITs.Replacement.Base.html#2777" class="Bound">r</a> <a id="2807" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">‚â°</a> <a id="2809" href="Cubical.HITs.Replacement.Base.html#2779" class="Bound">r&#39;</a>
    <a id="2816" href="Cubical.HITs.Replacement.Base.html#2769" class="Function">inv</a> <a id="2820" href="Cubical.HITs.Replacement.Base.html#2820" class="Bound">r</a> <a id="2822" href="Cubical.HITs.Replacement.Base.html#2822" class="Bound">r&#39;</a> <a id="2825" href="Cubical.HITs.Replacement.Base.html#2825" class="Bound">Q</a> <a id="2827" class="Symbol">=</a> <a id="2829" href="Cubical.HITs.Replacement.Base.html#1633" class="InductiveConstructor">quo</a> <a id="2833" href="Cubical.HITs.Replacement.Base.html#2820" class="Bound">r</a> <a id="2835" href="Cubical.HITs.Replacement.Base.html#2822" class="Bound">r&#39;</a> <a id="2838" class="Symbol">(</a><a id="2839" href="Cubical.Displayed.Base.html#1016" class="Function">B.‚â°‚Üí‚âÖ</a> <a id="2845" href="Cubical.HITs.Replacement.Base.html#2825" class="Bound">Q</a><a id="2846" class="Symbol">)</a>

    <a id="2853" href="Cubical.HITs.Replacement.Base.html#2853" class="Function">unrepInv</a> <a id="2862" class="Symbol">:</a> <a id="2864" class="Symbol">‚àÄ</a> <a id="2866" href="Cubical.HITs.Replacement.Base.html#2866" class="Bound">r</a> <a id="2868" href="Cubical.HITs.Replacement.Base.html#2868" class="Bound">r&#39;</a> <a id="2871" href="Cubical.HITs.Replacement.Base.html#2871" class="Bound">Q</a> <a id="2873" class="Symbol">‚Üí</a> <a id="2875" href="Cubical.Foundations.Prelude.html#1407" class="Function">cong</a> <a id="2880" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Cubical.HITs.Replacement.Base.html#2769" class="Function">inv</a> <a id="2891" href="Cubical.HITs.Replacement.Base.html#2866" class="Bound">r</a> <a id="2893" href="Cubical.HITs.Replacement.Base.html#2868" class="Bound">r&#39;</a> <a id="2896" href="Cubical.HITs.Replacement.Base.html#2871" class="Bound">Q</a><a id="2897" class="Symbol">)</a> <a id="2899" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">‚â°</a> <a id="2901" href="Cubical.HITs.Replacement.Base.html#2871" class="Bound">Q</a>
    <a id="2907" href="Cubical.HITs.Replacement.Base.html#2853" class="Function">unrepInv</a> <a id="2916" href="Cubical.HITs.Replacement.Base.html#2916" class="Bound">r</a> <a id="2918" href="Cubical.HITs.Replacement.Base.html#2918" class="Bound">r&#39;</a> <a id="2921" href="Cubical.HITs.Replacement.Base.html#2921" class="Bound">Q</a> <a id="2923" class="Symbol">=</a> <a id="2925" href="Cubical.Displayed.Base.html#855" class="Function">B.uaIso</a> <a id="2933" class="Symbol">(</a><a id="2934" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="2940" href="Cubical.HITs.Replacement.Base.html#2916" class="Bound">r</a><a id="2941" class="Symbol">)</a> <a id="2943" class="Symbol">(</a><a id="2944" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="2950" href="Cubical.HITs.Replacement.Base.html#2918" class="Bound">r&#39;</a><a id="2952" class="Symbol">)</a> <a id="2954" class="Symbol">.</a><a id="2955" href="Cubical.Foundations.Isomorphism.html#888" class="Field">Iso.rightInv</a> <a id="2968" href="Cubical.HITs.Replacement.Base.html#2921" class="Bound">Q</a>

  <a id="2973" class="Comment">-- Equivalence to the image with level (‚Ñì-max ‚ÑìA ‚ÑìB) that always exists</a>

  <a id="3048" href="Cubical.HITs.Replacement.Base.html#3048" class="Function">replacement‚âÉImage</a> <a id="3066" class="Symbol">:</a> <a id="3068" href="Cubical.HITs.Replacement.Base.html#1517" class="Datatype">Replacement</a> <a id="3080" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">‚âÉ</a> <a id="3082" href="Cubical.Functions.Image.html#729" class="Function">Image</a> <a id="3088" href="Cubical.HITs.Replacement.Base.html#1467" class="Bound">f</a>
  <a id="3092" href="Cubical.HITs.Replacement.Base.html#3048" class="Function">replacement‚âÉImage</a> <a id="3110" class="Symbol">=</a>
    <a id="3116" href="Cubical.Functions.Image.html#2708" class="Function">imagesEquiv</a>
      <a id="3134" class="Symbol">(</a><a id="3135" href="Cubical.HITs.Replacement.Base.html#1607" class="InductiveConstructor">rep</a> <a id="3139" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3141" href="Cubical.HITs.Replacement.Base.html#2323" class="Function">isSurjectiveRep</a><a id="3156" class="Symbol">)</a>
      <a id="3164" class="Symbol">(</a><a id="3165" href="Cubical.HITs.Replacement.Base.html#1553" class="Function">unrep</a> <a id="3171" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3173" href="Cubical.HITs.Replacement.Base.html#2476" class="Function">isEmbeddingUnrep</a><a id="3189" class="Symbol">)</a>
      <a id="3197" class="Symbol">(</a><a id="3198" href="Cubical.Functions.Image.html#860" class="Function">restrictToImage</a> <a id="3214" href="Cubical.HITs.Replacement.Base.html#1467" class="Bound">f</a> <a id="3216" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3218" href="Cubical.Functions.Image.html#935" class="Function">isSurjectionImageRestriction</a> <a id="3247" href="Cubical.HITs.Replacement.Base.html#1467" class="Bound">f</a><a id="3248" class="Symbol">)</a>
      <a id="3256" class="Symbol">(</a><a id="3257" href="Cubical.Functions.Image.html#780" class="Function">imageInclusion</a> <a id="3272" href="Cubical.HITs.Replacement.Base.html#1467" class="Bound">f</a><a id="3273" class="Symbol">)</a>
      <a id="3281" href="Cubical.Foundations.Prelude.html#892" class="Function">refl</a>
</pre></body></html>