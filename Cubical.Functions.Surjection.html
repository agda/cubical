<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Functions.Surjection</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Cubical.Functions.Surjection.html" class="Module">Cubical.Functions.Surjection</a> <a id="60" class="Keyword">where</a>

<a id="67" class="Keyword">open</a> <a id="72" class="Keyword">import</a> <a id="79" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="147" class="Keyword">open</a> <a id="152" class="Keyword">import</a> <a id="159" href="Cubical.Foundations.Isomorphism.html" class="Module">Cubical.Foundations.Isomorphism</a>
<a id="191" class="Keyword">open</a> <a id="196" class="Keyword">import</a> <a id="203" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Cubical.Foundations.Univalence.html" class="Module">Cubical.Foundations.Univalence</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Cubical.Functions.Embedding.html" class="Module">Cubical.Functions.Embedding</a>

<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="385" class="Keyword">open</a> <a id="390" class="Keyword">import</a> <a id="397" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Cubical.HITs.PropositionalTruncation.html" class="Module">Cubical.HITs.PropositionalTruncation</a> <a id="464" class="Symbol">as</a> <a id="467" class="Module">PT</a>

<a id="471" class="Keyword">private</a> <a id="479" class="Keyword">variable</a>
  <a id="490" href="Cubical.Functions.Surjection.html#490" class="Generalizable">ℓ</a> <a id="492" href="Cubical.Functions.Surjection.html#492" class="Generalizable">ℓ&#39;</a> <a id="495" class="Symbol">:</a> <a id="497" href="Agda.Primitive.html#591" class="Postulate">Level</a>
  <a id="505" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="507" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a> <a id="509" href="Cubical.Functions.Surjection.html#509" class="Generalizable">C</a> <a id="511" class="Symbol">:</a> <a id="513" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="518" href="Cubical.Functions.Surjection.html#490" class="Generalizable">ℓ</a>
  <a id="522" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="524" class="Symbol">:</a> <a id="526" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="528" class="Symbol">→</a> <a id="530" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a>

<a id="isSurjection"></a><a id="533" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="546" class="Symbol">:</a> <a id="548" class="Symbol">(</a><a id="549" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="551" class="Symbol">→</a> <a id="553" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a><a id="554" class="Symbol">)</a> <a id="556" class="Symbol">→</a> <a id="558" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="563" class="Symbol">_</a>
<a id="565" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="578" href="Cubical.Functions.Surjection.html#578" class="Bound">f</a> <a id="580" class="Symbol">=</a> <a id="582" class="Symbol">∀</a> <a id="584" href="Cubical.Functions.Surjection.html#584" class="Bound">b</a> <a id="586" class="Symbol">→</a> <a id="588" href="Cubical.HITs.PropositionalTruncation.Base.html#249" class="Datatype Operator">∥</a> <a id="590" href="Cubical.Foundations.Equiv.Base.html#253" class="Function">fiber</a> <a id="596" href="Cubical.Functions.Surjection.html#578" class="Bound">f</a> <a id="598" href="Cubical.Functions.Surjection.html#584" class="Bound">b</a> <a id="600" href="Cubical.HITs.PropositionalTruncation.Base.html#249" class="Datatype Operator">∥₁</a>

<a id="_↠_"></a><a id="604" href="Cubical.Functions.Surjection.html#604" class="Function Operator">_↠_</a> <a id="608" class="Symbol">:</a> <a id="610" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="615" href="Cubical.Functions.Surjection.html#490" class="Generalizable">ℓ</a> <a id="617" class="Symbol">→</a> <a id="619" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="624" href="Cubical.Functions.Surjection.html#492" class="Generalizable">ℓ&#39;</a> <a id="627" class="Symbol">→</a> <a id="629" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="634" class="Symbol">(</a><a id="635" href="Agda.Primitive.html#804" class="Primitive">ℓ-max</a> <a id="641" href="Cubical.Functions.Surjection.html#490" class="Generalizable">ℓ</a> <a id="643" href="Cubical.Functions.Surjection.html#492" class="Generalizable">ℓ&#39;</a><a id="645" class="Symbol">)</a>
<a id="647" href="Cubical.Functions.Surjection.html#647" class="Bound">A</a> <a id="649" href="Cubical.Functions.Surjection.html#604" class="Function Operator">↠</a> <a id="651" href="Cubical.Functions.Surjection.html#651" class="Bound">B</a> <a id="653" class="Symbol">=</a> <a id="655" href="Cubical.Core.Primitives.html#6268" class="Function">Σ[</a> <a id="658" href="Cubical.Functions.Surjection.html#658" class="Bound">f</a> <a id="660" href="Cubical.Core.Primitives.html#6268" class="Function">∈</a> <a id="662" class="Symbol">(</a><a id="663" href="Cubical.Functions.Surjection.html#647" class="Bound">A</a> <a id="665" class="Symbol">→</a> <a id="667" href="Cubical.Functions.Surjection.html#651" class="Bound">B</a><a id="668" class="Symbol">)</a> <a id="670" href="Cubical.Core.Primitives.html#6268" class="Function">]</a> <a id="672" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="685" href="Cubical.Functions.Surjection.html#658" class="Bound">f</a>

<a id="section→isSurjection"></a><a id="688" href="Cubical.Functions.Surjection.html#688" class="Function">section→isSurjection</a> <a id="709" class="Symbol">:</a> <a id="711" class="Symbol">{</a><a id="712" href="Cubical.Functions.Surjection.html#712" class="Bound">g</a> <a id="714" class="Symbol">:</a> <a id="716" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a> <a id="718" class="Symbol">→</a> <a id="720" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a><a id="721" class="Symbol">}</a> <a id="723" class="Symbol">→</a> <a id="725" href="Cubical.Foundations.Isomorphism.html#571" class="Function">section</a> <a id="733" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="735" href="Cubical.Functions.Surjection.html#712" class="Bound">g</a> <a id="737" class="Symbol">→</a> <a id="739" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="752" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a>
<a id="754" href="Cubical.Functions.Surjection.html#688" class="Function">section→isSurjection</a> <a id="775" class="Symbol">{</a><a id="776" class="Argument">g</a> <a id="778" class="Symbol">=</a> <a id="780" href="Cubical.Functions.Surjection.html#780" class="Bound">g</a><a id="781" class="Symbol">}</a> <a id="783" href="Cubical.Functions.Surjection.html#783" class="Bound">s</a> <a id="785" href="Cubical.Functions.Surjection.html#785" class="Bound">b</a> <a id="787" class="Symbol">=</a> <a id="789" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="791" href="Cubical.Functions.Surjection.html#780" class="Bound">g</a> <a id="793" href="Cubical.Functions.Surjection.html#785" class="Bound">b</a> <a id="795" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="797" href="Cubical.Functions.Surjection.html#783" class="Bound">s</a> <a id="799" href="Cubical.Functions.Surjection.html#785" class="Bound">b</a> <a id="801" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a>

<a id="isPropIsSurjection"></a><a id="805" href="Cubical.Functions.Surjection.html#805" class="Function">isPropIsSurjection</a> <a id="824" class="Symbol">:</a> <a id="826" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="833" class="Symbol">(</a><a id="834" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="847" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a><a id="848" class="Symbol">)</a>
<a id="850" href="Cubical.Functions.Surjection.html#805" class="Function">isPropIsSurjection</a> <a id="869" class="Symbol">=</a> <a id="871" href="Cubical.Foundations.HLevels.html#16363" class="Function">isPropΠ</a> <a id="879" class="Symbol">λ</a> <a id="881" href="Cubical.Functions.Surjection.html#881" class="Bound">_</a> <a id="883" class="Symbol">→</a> <a id="885" href="Cubical.HITs.PropositionalTruncation.Base.html#308" class="InductiveConstructor">squash₁</a>

<a id="isEquiv→isSurjection"></a><a id="894" href="Cubical.Functions.Surjection.html#894" class="Function">isEquiv→isSurjection</a> <a id="915" class="Symbol">:</a> <a id="917" href="Agda.Builtin.Cubical.Glue.html#822" class="Record">isEquiv</a> <a id="925" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="927" class="Symbol">→</a> <a id="929" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="942" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a>
<a id="944" href="Cubical.Functions.Surjection.html#894" class="Function">isEquiv→isSurjection</a> <a id="965" href="Cubical.Functions.Surjection.html#965" class="Bound">e</a> <a id="967" href="Cubical.Functions.Surjection.html#967" class="Bound">b</a> <a id="969" class="Symbol">=</a> <a id="971" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="973" href="Agda.Builtin.Sigma.html#234" class="Field">fst</a> <a id="977" class="Symbol">(</a><a id="978" href="Agda.Builtin.Cubical.Glue.html#925" class="Field">equiv-proof</a> <a id="990" href="Cubical.Functions.Surjection.html#965" class="Bound">e</a> <a id="992" href="Cubical.Functions.Surjection.html#967" class="Bound">b</a><a id="993" class="Symbol">)</a> <a id="995" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a>

<a id="isEquiv→isEmbedding×isSurjection"></a><a id="999" href="Cubical.Functions.Surjection.html#999" class="Function">isEquiv→isEmbedding×isSurjection</a> <a id="1032" class="Symbol">:</a> <a id="1034" href="Agda.Builtin.Cubical.Glue.html#822" class="Record">isEquiv</a> <a id="1042" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="1044" class="Symbol">→</a> <a id="1046" href="Cubical.Functions.Embedding.html#1279" class="Function">isEmbedding</a> <a id="1058" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="1060" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="1062" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="1075" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a>
<a id="1077" href="Cubical.Functions.Surjection.html#999" class="Function">isEquiv→isEmbedding×isSurjection</a> <a id="1110" href="Cubical.Functions.Surjection.html#1110" class="Bound">e</a> <a id="1112" class="Symbol">=</a> <a id="1114" href="Cubical.Functions.Embedding.html#5511" class="Function">isEquiv→isEmbedding</a> <a id="1134" href="Cubical.Functions.Surjection.html#1110" class="Bound">e</a> <a id="1136" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1138" href="Cubical.Functions.Surjection.html#894" class="Function">isEquiv→isSurjection</a> <a id="1159" href="Cubical.Functions.Surjection.html#1110" class="Bound">e</a>

<a id="isEmbedding×isSurjection→isEquiv"></a><a id="1162" href="Cubical.Functions.Surjection.html#1162" class="Function">isEmbedding×isSurjection→isEquiv</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="Cubical.Functions.Embedding.html#1279" class="Function">isEmbedding</a> <a id="1209" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="1211" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="1213" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="1226" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="1228" class="Symbol">→</a> <a id="1230" href="Agda.Builtin.Cubical.Glue.html#822" class="Record">isEquiv</a> <a id="1238" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a>
<a id="1240" href="Agda.Builtin.Cubical.Glue.html#925" class="Field">equiv-proof</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Cubical.Functions.Surjection.html#1162" class="Function">isEmbedding×isSurjection→isEquiv</a> <a id="1286" class="Symbol">{</a><a id="1287" class="Argument">f</a> <a id="1289" class="Symbol">=</a> <a id="1291" href="Cubical.Functions.Surjection.html#1291" class="Bound">f</a><a id="1292" class="Symbol">}</a> <a id="1294" class="Symbol">(</a><a id="1295" href="Cubical.Functions.Surjection.html#1295" class="Bound">emb</a> <a id="1299" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1301" href="Cubical.Functions.Surjection.html#1301" class="Bound">sur</a><a id="1304" class="Symbol">))</a> <a id="1307" href="Cubical.Functions.Surjection.html#1307" class="Bound">b</a> <a id="1309" class="Symbol">=</a>
  <a id="1313" href="Cubical.Foundations.HLevels.html#22803" class="Function">inhProp→isContr</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Cubical.HITs.PropositionalTruncation.Properties.html#894" class="Function">PT.rec</a> <a id="1337" href="Cubical.Functions.Surjection.html#1473" class="Function">fib&#39;</a> <a id="1342" class="Symbol">(λ</a> <a id="1345" href="Cubical.Functions.Surjection.html#1345" class="Bound">x</a> <a id="1347" class="Symbol">→</a> <a id="1349" href="Cubical.Functions.Surjection.html#1345" class="Bound">x</a><a id="1350" class="Symbol">)</a> <a id="1352" href="Cubical.Functions.Surjection.html#1435" class="Function">fib</a><a id="1355" class="Symbol">)</a> <a id="1357" href="Cubical.Functions.Surjection.html#1473" class="Function">fib&#39;</a>
  <a id="1364" class="Keyword">where</a>
  <a id="1372" href="Cubical.Functions.Surjection.html#1372" class="Function">hpf</a> <a id="1376" class="Symbol">:</a> <a id="1378" href="Cubical.Functions.Embedding.html#1872" class="Function">hasPropFibers</a> <a id="1392" href="Cubical.Functions.Surjection.html#1291" class="Bound">f</a>
  <a id="1396" href="Cubical.Functions.Surjection.html#1372" class="Function">hpf</a> <a id="1400" class="Symbol">=</a> <a id="1402" href="Cubical.Functions.Embedding.html#2921" class="Function">isEmbedding→hasPropFibers</a> <a id="1428" href="Cubical.Functions.Surjection.html#1295" class="Bound">emb</a>

  <a id="1435" href="Cubical.Functions.Surjection.html#1435" class="Function">fib</a> <a id="1439" class="Symbol">:</a> <a id="1441" href="Cubical.HITs.PropositionalTruncation.Base.html#249" class="Datatype Operator">∥</a> <a id="1443" href="Cubical.Foundations.Equiv.Base.html#253" class="Function">fiber</a> <a id="1449" href="Cubical.Functions.Surjection.html#1291" class="Bound">f</a> <a id="1451" href="Cubical.Functions.Surjection.html#1307" class="Bound">b</a> <a id="1453" href="Cubical.HITs.PropositionalTruncation.Base.html#249" class="Datatype Operator">∥₁</a>
  <a id="1458" href="Cubical.Functions.Surjection.html#1435" class="Function">fib</a> <a id="1462" class="Symbol">=</a> <a id="1464" href="Cubical.Functions.Surjection.html#1301" class="Bound">sur</a> <a id="1468" href="Cubical.Functions.Surjection.html#1307" class="Bound">b</a>

  <a id="1473" href="Cubical.Functions.Surjection.html#1473" class="Function">fib&#39;</a> <a id="1478" class="Symbol">:</a> <a id="1480" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="1487" class="Symbol">(</a><a id="1488" href="Cubical.Foundations.Equiv.Base.html#253" class="Function">fiber</a> <a id="1494" href="Cubical.Functions.Surjection.html#1291" class="Bound">f</a> <a id="1496" href="Cubical.Functions.Surjection.html#1307" class="Bound">b</a><a id="1497" class="Symbol">)</a>
  <a id="1501" href="Cubical.Functions.Surjection.html#1473" class="Function">fib&#39;</a> <a id="1506" class="Symbol">=</a> <a id="1508" href="Cubical.Functions.Surjection.html#1372" class="Function">hpf</a> <a id="1512" href="Cubical.Functions.Surjection.html#1307" class="Bound">b</a>

<a id="isEquiv≃isEmbedding×isSurjection"></a><a id="1515" href="Cubical.Functions.Surjection.html#1515" class="Function">isEquiv≃isEmbedding×isSurjection</a> <a id="1548" class="Symbol">:</a> <a id="1550" href="Agda.Builtin.Cubical.Glue.html#822" class="Record">isEquiv</a> <a id="1558" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="1560" href="Agda.Builtin.Cubical.Glue.html#1005" class="Function Operator">≃</a> <a id="1562" href="Cubical.Functions.Embedding.html#1279" class="Function">isEmbedding</a> <a id="1574" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a> <a id="1576" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="1578" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="1591" href="Cubical.Functions.Surjection.html#522" class="Generalizable">f</a>
<a id="1593" href="Cubical.Functions.Surjection.html#1515" class="Function">isEquiv≃isEmbedding×isSurjection</a> <a id="1626" class="Symbol">=</a> <a id="1628" href="Cubical.Foundations.Isomorphism.html#3127" class="Function">isoToEquiv</a> <a id="1639" class="Symbol">(</a><a id="1640" href="Cubical.Foundations.Isomorphism.html#869" class="InductiveConstructor">iso</a>
  <a id="1646" href="Cubical.Functions.Surjection.html#999" class="Function">isEquiv→isEmbedding×isSurjection</a>
  <a id="1681" href="Cubical.Functions.Surjection.html#1162" class="Function">isEmbedding×isSurjection→isEquiv</a>
  <a id="1716" class="Symbol">(λ</a> <a id="1719" href="Cubical.Functions.Surjection.html#1719" class="Bound">_</a> <a id="1721" class="Symbol">→</a> <a id="1723" href="Cubical.Foundations.HLevels.html#12504" class="Function">isOfHLevelΣ</a> <a id="1735" class="Number">1</a> <a id="1737" href="Cubical.Functions.Embedding.html#1364" class="Function">isPropIsEmbedding</a> <a id="1755" class="Symbol">(\</a> <a id="1758" href="Cubical.Functions.Surjection.html#1758" class="Bound">_</a> <a id="1760" class="Symbol">→</a> <a id="1762" href="Cubical.Functions.Surjection.html#805" class="Function">isPropIsSurjection</a><a id="1780" class="Symbol">)</a> <a id="1782" class="Symbol">_</a> <a id="1784" class="Symbol">_)</a>
  <a id="1789" class="Symbol">(λ</a> <a id="1792" href="Cubical.Functions.Surjection.html#1792" class="Bound">_</a> <a id="1794" class="Symbol">→</a> <a id="1796" href="Cubical.Foundations.Equiv.html#1548" class="Function">isPropIsEquiv</a> <a id="1810" class="Symbol">_</a> <a id="1812" class="Symbol">_</a> <a id="1814" class="Symbol">_))</a>

<a id="1819" class="Comment">-- obs: for epi⇒surjective to go through we require a stronger</a>
<a id="1882" class="Comment">-- hypothesis that one would expect:</a>
<a id="1919" class="Comment">-- f must cancel functions from a higher universe.</a>
<a id="rightCancellable"></a><a id="1970" href="Cubical.Functions.Surjection.html#1970" class="Function">rightCancellable</a> <a id="1987" class="Symbol">:</a> <a id="1989" class="Symbol">(</a><a id="1990" href="Cubical.Functions.Surjection.html#1990" class="Bound">f</a> <a id="1992" class="Symbol">:</a> <a id="1994" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="1996" class="Symbol">→</a> <a id="1998" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a><a id="1999" class="Symbol">)</a> <a id="2001" class="Symbol">→</a> <a id="2003" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2008" class="Symbol">_</a>
<a id="2010" href="Cubical.Functions.Surjection.html#1970" class="Function">rightCancellable</a> <a id="2027" class="Symbol">{</a><a id="2028" href="Cubical.Functions.Surjection.html#2028" class="Bound">ℓ</a><a id="2029" class="Symbol">}</a> <a id="2031" class="Symbol">{</a><a id="2032" href="Cubical.Functions.Surjection.html#2032" class="Bound">A</a><a id="2033" class="Symbol">}</a> <a id="2035" class="Symbol">{</a><a id="2036" href="Cubical.Functions.Surjection.html#2036" class="Bound">ℓ&#39;</a><a id="2038" class="Symbol">}</a> <a id="2040" class="Symbol">{</a><a id="2041" href="Cubical.Functions.Surjection.html#2041" class="Bound">B</a><a id="2042" class="Symbol">}</a> <a id="2044" href="Cubical.Functions.Surjection.html#2044" class="Bound">f</a> <a id="2046" class="Symbol">=</a> <a id="2048" class="Symbol">∀</a> <a id="2050" class="Symbol">{</a><a id="2051" href="Cubical.Functions.Surjection.html#2051" class="Bound">C</a> <a id="2053" class="Symbol">:</a> <a id="2055" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2060" class="Symbol">(</a><a id="2061" href="Agda.Primitive.html#774" class="Primitive">ℓ-suc</a> <a id="2067" class="Symbol">(</a><a id="2068" href="Agda.Primitive.html#804" class="Primitive">ℓ-max</a> <a id="2074" href="Cubical.Functions.Surjection.html#2028" class="Bound">ℓ</a> <a id="2076" href="Cubical.Functions.Surjection.html#2036" class="Bound">ℓ&#39;</a><a id="2078" class="Symbol">))}</a>
  <a id="2084" class="Symbol">→</a> <a id="2086" class="Symbol">∀</a> <a id="2088" class="Symbol">(</a><a id="2089" href="Cubical.Functions.Surjection.html#2089" class="Bound">g</a> <a id="2091" href="Cubical.Functions.Surjection.html#2091" class="Bound">g&#39;</a> <a id="2094" class="Symbol">:</a> <a id="2096" href="Cubical.Functions.Surjection.html#2041" class="Bound">B</a> <a id="2098" class="Symbol">→</a> <a id="2100" href="Cubical.Functions.Surjection.html#2051" class="Bound">C</a><a id="2101" class="Symbol">)</a> <a id="2103" class="Symbol">→</a> <a id="2105" class="Symbol">(∀</a> <a id="2108" href="Cubical.Functions.Surjection.html#2108" class="Bound">x</a> <a id="2110" class="Symbol">→</a> <a id="2112" href="Cubical.Functions.Surjection.html#2089" class="Bound">g</a> <a id="2114" class="Symbol">(</a><a id="2115" href="Cubical.Functions.Surjection.html#2044" class="Bound">f</a> <a id="2117" href="Cubical.Functions.Surjection.html#2108" class="Bound">x</a><a id="2118" class="Symbol">)</a> <a id="2120" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="2122" href="Cubical.Functions.Surjection.html#2091" class="Bound">g&#39;</a> <a id="2125" class="Symbol">(</a><a id="2126" href="Cubical.Functions.Surjection.html#2044" class="Bound">f</a> <a id="2128" href="Cubical.Functions.Surjection.html#2108" class="Bound">x</a><a id="2129" class="Symbol">))</a> <a id="2132" class="Symbol">→</a> <a id="2134" class="Symbol">∀</a> <a id="2136" href="Cubical.Functions.Surjection.html#2136" class="Bound">y</a> <a id="2138" class="Symbol">→</a> <a id="2140" href="Cubical.Functions.Surjection.html#2089" class="Bound">g</a> <a id="2142" href="Cubical.Functions.Surjection.html#2136" class="Bound">y</a> <a id="2144" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="2146" href="Cubical.Functions.Surjection.html#2091" class="Bound">g&#39;</a> <a id="2149" href="Cubical.Functions.Surjection.html#2136" class="Bound">y</a>

<a id="2152" class="Comment">-- This statement is in Mac Lane &amp; Moerdijk (page 143, corollary 5).</a>
<a id="epi⇒surjective"></a><a id="2221" href="Cubical.Functions.Surjection.html#2221" class="Function">epi⇒surjective</a> <a id="2236" class="Symbol">:</a> <a id="2238" class="Symbol">(</a><a id="2239" href="Cubical.Functions.Surjection.html#2239" class="Bound">f</a> <a id="2241" class="Symbol">:</a> <a id="2243" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="2245" class="Symbol">→</a> <a id="2247" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a><a id="2248" class="Symbol">)</a> <a id="2250" class="Symbol">→</a> <a id="2252" href="Cubical.Functions.Surjection.html#1970" class="Function">rightCancellable</a> <a id="2269" href="Cubical.Functions.Surjection.html#2239" class="Bound">f</a> <a id="2271" class="Symbol">→</a> <a id="2273" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="2286" href="Cubical.Functions.Surjection.html#2239" class="Bound">f</a>
<a id="2288" href="Cubical.Functions.Surjection.html#2221" class="Function">epi⇒surjective</a> <a id="2303" href="Cubical.Functions.Surjection.html#2303" class="Bound">f</a> <a id="2305" href="Cubical.Functions.Surjection.html#2305" class="Bound">rc</a> <a id="2308" href="Cubical.Functions.Surjection.html#2308" class="Bound">y</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="2322" class="Symbol">(</a><a id="2323" href="Cubical.Functions.Surjection.html#2663" class="Function">fact₂</a> <a id="2329" href="Cubical.Functions.Surjection.html#2308" class="Bound">y</a><a id="2330" class="Symbol">)</a> <a id="2332" href="Cubical.Data.Unit.Base.html#267" class="InductiveConstructor">tt*</a>
    <a id="2340" class="Keyword">where</a> <a id="2346" href="Cubical.Functions.Surjection.html#2346" class="Function">hasPreimage</a> <a id="2358" class="Symbol">:</a> <a id="2360" class="Symbol">(</a><a id="2361" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="2363" class="Symbol">→</a> <a id="2365" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a><a id="2366" class="Symbol">)</a> <a id="2368" class="Symbol">→</a> <a id="2370" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a> <a id="2372" class="Symbol">→</a> <a id="2374" class="Symbol">_</a>
          <a id="2386" href="Cubical.Functions.Surjection.html#2346" class="Function">hasPreimage</a> <a id="2398" href="Cubical.Functions.Surjection.html#2398" class="Bound">f</a> <a id="2400" href="Cubical.Functions.Surjection.html#2400" class="Bound">y</a> <a id="2402" class="Symbol">=</a> <a id="2404" href="Cubical.HITs.PropositionalTruncation.Base.html#249" class="Datatype Operator">∥</a> <a id="2406" href="Cubical.Foundations.Equiv.Base.html#253" class="Function">fiber</a> <a id="2412" href="Cubical.Functions.Surjection.html#2398" class="Bound">f</a> <a id="2414" href="Cubical.Functions.Surjection.html#2400" class="Bound">y</a> <a id="2416" href="Cubical.HITs.PropositionalTruncation.Base.html#249" class="Datatype Operator">∥₁</a>

          <a id="2430" href="Cubical.Functions.Surjection.html#2430" class="Function">fact₁</a> <a id="2436" class="Symbol">:</a> <a id="2438" class="Symbol">∀</a> <a id="2440" href="Cubical.Functions.Surjection.html#2440" class="Bound">x</a> <a id="2442" class="Symbol">→</a> <a id="2444" href="Cubical.Data.Unit.Base.html#211" class="Function">Unit*</a> <a id="2450" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="2452" href="Cubical.Functions.Surjection.html#2346" class="Function">hasPreimage</a> <a id="2464" href="Cubical.Functions.Surjection.html#2303" class="Bound">f</a> <a id="2466" class="Symbol">(</a><a id="2467" href="Cubical.Functions.Surjection.html#2303" class="Bound">f</a> <a id="2469" href="Cubical.Functions.Surjection.html#2440" class="Bound">x</a><a id="2470" class="Symbol">)</a>
          <a id="2482" href="Cubical.Functions.Surjection.html#2430" class="Function">fact₁</a> <a id="2488" href="Cubical.Functions.Surjection.html#2488" class="Bound">x</a> <a id="2490" class="Symbol">=</a> <a id="2492" href="Cubical.Foundations.Univalence.html#1243" class="Function">hPropExt</a> <a id="2501" href="Cubical.Data.Unit.Properties.html#2768" class="Function">isPropUnit*</a>
                             <a id="2542" href="Cubical.HITs.PropositionalTruncation.Properties.html#5584" class="Function">isPropPropTrunc</a>
                             <a id="2587" class="Symbol">(λ</a> <a id="2590" href="Cubical.Functions.Surjection.html#2590" class="Bound">_</a> <a id="2592" class="Symbol">→</a> <a id="2594" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="2596" class="Symbol">(</a><a id="2597" href="Cubical.Functions.Surjection.html#2488" class="Bound">x</a> <a id="2599" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2601" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a><a id="2605" class="Symbol">)</a> <a id="2607" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="2609" class="Symbol">)</a>
                             <a id="2640" class="Symbol">(λ</a> <a id="2643" href="Cubical.Functions.Surjection.html#2643" class="Bound">_</a> <a id="2645" class="Symbol">→</a> <a id="2647" href="Cubical.Data.Unit.Base.html#267" class="InductiveConstructor">tt*</a><a id="2650" class="Symbol">)</a>

          <a id="2663" href="Cubical.Functions.Surjection.html#2663" class="Function">fact₂</a> <a id="2669" class="Symbol">:</a> <a id="2671" class="Symbol">∀</a> <a id="2673" href="Cubical.Functions.Surjection.html#2673" class="Bound">y</a> <a id="2675" class="Symbol">→</a> <a id="2677" href="Cubical.Data.Unit.Base.html#211" class="Function">Unit*</a> <a id="2683" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="2685" href="Cubical.Functions.Surjection.html#2346" class="Function">hasPreimage</a> <a id="2697" href="Cubical.Functions.Surjection.html#2303" class="Bound">f</a> <a id="2699" href="Cubical.Functions.Surjection.html#2673" class="Bound">y</a>
          <a id="2711" href="Cubical.Functions.Surjection.html#2663" class="Function">fact₂</a> <a id="2717" class="Symbol">=</a> <a id="2719" href="Cubical.Functions.Surjection.html#2305" class="Bound">rc</a> <a id="2722" class="Symbol">_</a> <a id="2724" class="Symbol">_</a> <a id="2726" href="Cubical.Functions.Surjection.html#2430" class="Function">fact₁</a>

<a id="2733" class="Comment">-- If h ∘ g is surjective, then h is surjective.</a>
<a id="leftFactorSurjective"></a><a id="2782" href="Cubical.Functions.Surjection.html#2782" class="Function">leftFactorSurjective</a> <a id="2803" class="Symbol">:</a> <a id="2805" class="Symbol">(</a><a id="2806" href="Cubical.Functions.Surjection.html#2806" class="Bound">g</a> <a id="2808" class="Symbol">:</a> <a id="2810" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="2812" class="Symbol">→</a> <a id="2814" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a><a id="2815" class="Symbol">)</a> <a id="2817" class="Symbol">(</a><a id="2818" href="Cubical.Functions.Surjection.html#2818" class="Bound">h</a> <a id="2820" class="Symbol">:</a> <a id="2822" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a> <a id="2824" class="Symbol">→</a> <a id="2826" href="Cubical.Functions.Surjection.html#509" class="Generalizable">C</a><a id="2827" class="Symbol">)</a>
                        <a id="2853" class="Symbol">→</a> <a id="2855" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="2868" class="Symbol">(</a><a id="2869" href="Cubical.Functions.Surjection.html#2818" class="Bound">h</a> <a id="2871" href="Cubical.Foundations.Function.html#653" class="Function Operator">∘</a> <a id="2873" href="Cubical.Functions.Surjection.html#2806" class="Bound">g</a><a id="2874" class="Symbol">)</a>
                        <a id="2900" class="Symbol">→</a> <a id="2902" href="Cubical.Functions.Surjection.html#533" class="Function">isSurjection</a> <a id="2915" href="Cubical.Functions.Surjection.html#2818" class="Bound">h</a>
<a id="2917" href="Cubical.Functions.Surjection.html#2782" class="Function">leftFactorSurjective</a> <a id="2938" href="Cubical.Functions.Surjection.html#2938" class="Bound">g</a> <a id="2940" href="Cubical.Functions.Surjection.html#2940" class="Bound">h</a> <a id="2942" href="Cubical.Functions.Surjection.html#2942" class="Bound">sur-h∘g</a> <a id="2950" href="Cubical.Functions.Surjection.html#2950" class="Bound">c</a> <a id="2952" class="Symbol">=</a> <a id="2954" href="Cubical.HITs.PropositionalTruncation.Properties.html#894" class="Function">PT.rec</a> <a id="2961" href="Cubical.HITs.PropositionalTruncation.Properties.html#5584" class="Function">isPropPropTrunc</a> <a id="2977" class="Symbol">(λ</a> <a id="2980" class="Symbol">(</a><a id="2981" href="Cubical.Functions.Surjection.html#2981" class="Bound">x</a> <a id="2983" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2985" href="Cubical.Functions.Surjection.html#2985" class="Bound">hgx≡c</a><a id="2990" class="Symbol">)</a> <a id="2992" class="Symbol">→</a> <a id="2994" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="2996" href="Cubical.Functions.Surjection.html#2938" class="Bound">g</a> <a id="2998" href="Cubical.Functions.Surjection.html#2981" class="Bound">x</a> <a id="3000" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3002" href="Cubical.Functions.Surjection.html#2985" class="Bound">hgx≡c</a> <a id="3008" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="3010" class="Symbol">)</a> <a id="3012" class="Symbol">(</a><a id="3013" href="Cubical.Functions.Surjection.html#2942" class="Bound">sur-h∘g</a> <a id="3021" href="Cubical.Functions.Surjection.html#2950" class="Bound">c</a><a id="3022" class="Symbol">)</a>

<a id="compSurjection"></a><a id="3025" href="Cubical.Functions.Surjection.html#3025" class="Function">compSurjection</a> <a id="3040" class="Symbol">:</a> <a id="3042" class="Symbol">(</a><a id="3043" href="Cubical.Functions.Surjection.html#3043" class="Bound">f</a> <a id="3045" class="Symbol">:</a> <a id="3047" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="3049" href="Cubical.Functions.Surjection.html#604" class="Function Operator">↠</a> <a id="3051" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a><a id="3052" class="Symbol">)</a> <a id="3054" class="Symbol">(</a><a id="3055" href="Cubical.Functions.Surjection.html#3055" class="Bound">g</a> <a id="3057" class="Symbol">:</a> <a id="3059" href="Cubical.Functions.Surjection.html#507" class="Generalizable">B</a> <a id="3061" href="Cubical.Functions.Surjection.html#604" class="Function Operator">↠</a> <a id="3063" href="Cubical.Functions.Surjection.html#509" class="Generalizable">C</a><a id="3064" class="Symbol">)</a>
                 <a id="3083" class="Symbol">→</a> <a id="3085" href="Cubical.Functions.Surjection.html#505" class="Generalizable">A</a> <a id="3087" href="Cubical.Functions.Surjection.html#604" class="Function Operator">↠</a> <a id="3089" href="Cubical.Functions.Surjection.html#509" class="Generalizable">C</a>
<a id="3091" href="Cubical.Functions.Surjection.html#3025" class="Function">compSurjection</a> <a id="3106" class="Symbol">(</a><a id="3107" href="Cubical.Functions.Surjection.html#3107" class="Bound">f</a> <a id="3109" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3111" href="Cubical.Functions.Surjection.html#3111" class="Bound">sur-f</a><a id="3116" class="Symbol">)</a> <a id="3118" class="Symbol">(</a><a id="3119" href="Cubical.Functions.Surjection.html#3119" class="Bound">g</a> <a id="3121" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3123" href="Cubical.Functions.Surjection.html#3123" class="Bound">sur-g</a><a id="3128" class="Symbol">)</a> <a id="3130" class="Symbol">=</a>
  <a id="3134" class="Symbol">(λ</a> <a id="3137" href="Cubical.Functions.Surjection.html#3137" class="Bound">x</a> <a id="3139" class="Symbol">→</a> <a id="3141" href="Cubical.Functions.Surjection.html#3119" class="Bound">g</a> <a id="3143" class="Symbol">(</a><a id="3144" href="Cubical.Functions.Surjection.html#3107" class="Bound">f</a> <a id="3146" href="Cubical.Functions.Surjection.html#3137" class="Bound">x</a><a id="3147" class="Symbol">))</a> <a id="3150" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a>
   <a id="3155" class="Symbol">λ</a> <a id="3157" href="Cubical.Functions.Surjection.html#3157" class="Bound">c</a> <a id="3159" class="Symbol">→</a> <a id="3161" href="Cubical.HITs.PropositionalTruncation.Properties.html#894" class="Function">PT.rec</a> <a id="3168" href="Cubical.HITs.PropositionalTruncation.Properties.html#5584" class="Function">isPropPropTrunc</a>
                <a id="3200" class="Symbol">(λ</a> <a id="3203" class="Symbol">(</a><a id="3204" href="Cubical.Functions.Surjection.html#3204" class="Bound">b</a> <a id="3206" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3208" href="Cubical.Functions.Surjection.html#3208" class="Bound">gb≡c</a><a id="3212" class="Symbol">)</a> <a id="3214" class="Symbol">→</a> <a id="3216" href="Cubical.HITs.PropositionalTruncation.Properties.html#894" class="Function">PT.rec</a> <a id="3223" href="Cubical.HITs.PropositionalTruncation.Properties.html#5584" class="Function">isPropPropTrunc</a> <a id="3239" class="Symbol">(λ</a> <a id="3242" class="Symbol">(</a><a id="3243" href="Cubical.Functions.Surjection.html#3243" class="Bound">a</a> <a id="3245" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3247" href="Cubical.Functions.Surjection.html#3247" class="Bound">fa≡b</a><a id="3251" class="Symbol">)</a> <a id="3253" class="Symbol">→</a> <a id="3255" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="3257" href="Cubical.Functions.Surjection.html#3243" class="Bound">a</a> <a id="3259" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3261" class="Symbol">(</a><a id="3262" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="3267" href="Cubical.Functions.Surjection.html#3119" class="Bound">g</a> <a id="3269" href="Cubical.Functions.Surjection.html#3247" class="Bound">fa≡b</a> <a id="3274" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="3276" href="Cubical.Functions.Surjection.html#3208" class="Bound">gb≡c</a><a id="3280" class="Symbol">)</a> <a id="3282" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="3284" class="Symbol">)</a> <a id="3286" class="Symbol">(</a><a id="3287" href="Cubical.Functions.Surjection.html#3111" class="Bound">sur-f</a> <a id="3293" href="Cubical.Functions.Surjection.html#3204" class="Bound">b</a><a id="3294" class="Symbol">))</a>
                <a id="3313" class="Symbol">(</a><a id="3314" href="Cubical.Functions.Surjection.html#3123" class="Bound">sur-g</a> <a id="3320" href="Cubical.Functions.Surjection.html#3157" class="Bound">c</a><a id="3321" class="Symbol">)</a>
</pre></body></html>