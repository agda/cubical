<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.HITs.Truncation.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

A simpler definition of truncation ∥ A ∥ n from n ≥ -1

Note that this uses the HoTT book&#39;s indexing, so it will be off
 from `∥_∥_` in HITs.Truncation.Base by -2

-}</a>
<a id="172" class="Symbol">{-#</a> <a id="176" class="Keyword">OPTIONS</a> <a id="184" class="Pragma">--safe</a> <a id="191" class="Symbol">#-}</a>
<a id="195" class="Keyword">module</a> <a id="202" href="Cubical.HITs.Truncation.Base.html" class="Module">Cubical.HITs.Truncation.Base</a> <a id="231" class="Keyword">where</a>

<a id="238" class="Keyword">open</a> <a id="243" class="Keyword">import</a> <a id="250" href="Cubical.Data.NatMinusOne.html" class="Module">Cubical.Data.NatMinusOne</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Cubical.Foundations.Pointed.html" class="Module">Cubical.Foundations.Pointed</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Cubical.HITs.Sn.Base.html" class="Module">Cubical.HITs.Sn.Base</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Cubical.Data.Nat.Base.html" class="Module">Cubical.Data.Nat.Base</a>
<a id="462" class="Keyword">open</a> <a id="467" class="Keyword">import</a> <a id="474" href="Cubical.Data.Unit.Base.html" class="Module">Cubical.Data.Unit.Base</a>
<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a>

<a id="529" class="Comment">-- this definition is off by one. Use hLevelTrunc or ∥_∥ for truncations</a>
<a id="602" class="Comment">-- (off by 2 w.r.t. the HoTT-book)</a>
<a id="637" class="Keyword">data</a> <a id="HubAndSpoke"></a><a id="642" href="Cubical.HITs.Truncation.Base.html#642" class="Datatype">HubAndSpoke</a> <a id="654" class="Symbol">{</a><a id="655" href="Cubical.HITs.Truncation.Base.html#655" class="Bound">ℓ</a><a id="656" class="Symbol">}</a> <a id="658" class="Symbol">(</a><a id="659" href="Cubical.HITs.Truncation.Base.html#659" class="Bound">A</a> <a id="661" class="Symbol">:</a> <a id="663" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="668" href="Cubical.HITs.Truncation.Base.html#655" class="Bound">ℓ</a><a id="669" class="Symbol">)</a> <a id="671" class="Symbol">(</a><a id="672" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a> <a id="674" class="Symbol">:</a> <a id="676" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="677" class="Symbol">)</a> <a id="679" class="Symbol">:</a> <a id="681" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="686" href="Cubical.HITs.Truncation.Base.html#655" class="Bound">ℓ</a> <a id="688" class="Keyword">where</a>
  <a id="HubAndSpoke.∣_∣"></a><a id="696" href="Cubical.HITs.Truncation.Base.html#696" class="InductiveConstructor Operator">∣_∣</a> <a id="700" class="Symbol">:</a> <a id="702" href="Cubical.HITs.Truncation.Base.html#659" class="Bound">A</a> <a id="704" class="Symbol">→</a> <a id="706" href="Cubical.HITs.Truncation.Base.html#642" class="Datatype">HubAndSpoke</a> <a id="718" href="Cubical.HITs.Truncation.Base.html#659" class="Bound">A</a> <a id="720" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a>
  <a id="HubAndSpoke.hub"></a><a id="724" href="Cubical.HITs.Truncation.Base.html#724" class="InductiveConstructor">hub</a> <a id="728" class="Symbol">:</a> <a id="730" class="Symbol">(</a><a id="731" href="Cubical.HITs.Truncation.Base.html#731" class="Bound">f</a> <a id="733" class="Symbol">:</a> <a id="735" href="Cubical.HITs.Sn.Base.html#389" class="Function">S₊</a> <a id="738" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a> <a id="740" class="Symbol">→</a> <a id="742" href="Cubical.HITs.Truncation.Base.html#642" class="Datatype">HubAndSpoke</a> <a id="754" href="Cubical.HITs.Truncation.Base.html#659" class="Bound">A</a> <a id="756" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a><a id="757" class="Symbol">)</a> <a id="759" class="Symbol">→</a> <a id="761" href="Cubical.HITs.Truncation.Base.html#642" class="Datatype">HubAndSpoke</a> <a id="773" href="Cubical.HITs.Truncation.Base.html#659" class="Bound">A</a> <a id="775" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a>
  <a id="HubAndSpoke.spoke"></a><a id="779" href="Cubical.HITs.Truncation.Base.html#779" class="InductiveConstructor">spoke</a> <a id="785" class="Symbol">:</a> <a id="787" class="Symbol">(</a><a id="788" href="Cubical.HITs.Truncation.Base.html#788" class="Bound">f</a> <a id="790" class="Symbol">:</a> <a id="792" href="Cubical.HITs.Sn.Base.html#389" class="Function">S₊</a> <a id="795" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a> <a id="797" class="Symbol">→</a> <a id="799" href="Cubical.HITs.Truncation.Base.html#642" class="Datatype">HubAndSpoke</a> <a id="811" href="Cubical.HITs.Truncation.Base.html#659" class="Bound">A</a> <a id="813" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a><a id="814" class="Symbol">)</a> <a id="816" class="Symbol">(</a><a id="817" href="Cubical.HITs.Truncation.Base.html#817" class="Bound">x</a> <a id="819" class="Symbol">:</a> <a id="821" href="Cubical.HITs.Sn.Base.html#389" class="Function">S₊</a> <a id="824" href="Cubical.HITs.Truncation.Base.html#672" class="Bound">n</a><a id="825" class="Symbol">)</a> <a id="827" class="Symbol">→</a> <a id="829" href="Cubical.HITs.Truncation.Base.html#724" class="InductiveConstructor">hub</a> <a id="833" href="Cubical.HITs.Truncation.Base.html#788" class="Bound">f</a> <a id="835" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="837" href="Cubical.HITs.Truncation.Base.html#788" class="Bound">f</a> <a id="839" href="Cubical.HITs.Truncation.Base.html#817" class="Bound">x</a>

<a id="hLevelTrunc"></a><a id="842" href="Cubical.HITs.Truncation.Base.html#842" class="Function">hLevelTrunc</a> <a id="854" class="Symbol">:</a> <a id="856" class="Symbol">∀</a> <a id="858" class="Symbol">{</a><a id="859" href="Cubical.HITs.Truncation.Base.html#859" class="Bound">ℓ</a><a id="860" class="Symbol">}</a> <a id="862" class="Symbol">(</a><a id="863" href="Cubical.HITs.Truncation.Base.html#863" class="Bound">n</a> <a id="865" class="Symbol">:</a> <a id="867" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="868" class="Symbol">)</a> <a id="870" class="Symbol">(</a><a id="871" href="Cubical.HITs.Truncation.Base.html#871" class="Bound">A</a> <a id="873" class="Symbol">:</a> <a id="875" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="880" href="Cubical.HITs.Truncation.Base.html#859" class="Bound">ℓ</a><a id="881" class="Symbol">)</a> <a id="883" class="Symbol">→</a> <a id="885" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="890" href="Cubical.HITs.Truncation.Base.html#859" class="Bound">ℓ</a>
<a id="892" href="Cubical.HITs.Truncation.Base.html#842" class="Function">hLevelTrunc</a> <a id="904" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="909" href="Cubical.HITs.Truncation.Base.html#909" class="Bound">A</a> <a id="911" class="Symbol">=</a> <a id="913" href="Cubical.Data.Unit.Base.html#212" class="Function">Unit*</a>
<a id="919" href="Cubical.HITs.Truncation.Base.html#842" class="Function">hLevelTrunc</a> <a id="931" class="Symbol">(</a><a id="932" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="936" href="Cubical.HITs.Truncation.Base.html#936" class="Bound">n</a><a id="937" class="Symbol">)</a> <a id="939" href="Cubical.HITs.Truncation.Base.html#939" class="Bound">A</a> <a id="941" class="Symbol">=</a> <a id="943" href="Cubical.HITs.Truncation.Base.html#642" class="Datatype">HubAndSpoke</a> <a id="955" href="Cubical.HITs.Truncation.Base.html#939" class="Bound">A</a> <a id="957" href="Cubical.HITs.Truncation.Base.html#936" class="Bound">n</a>

<a id="∥_∥_"></a><a id="960" href="Cubical.HITs.Truncation.Base.html#960" class="Function Operator">∥_∥_</a> <a id="965" class="Symbol">:</a> <a id="967" class="Symbol">∀</a> <a id="969" class="Symbol">{</a><a id="970" href="Cubical.HITs.Truncation.Base.html#970" class="Bound">ℓ</a><a id="971" class="Symbol">}</a> <a id="973" class="Symbol">(</a><a id="974" href="Cubical.HITs.Truncation.Base.html#974" class="Bound">A</a> <a id="976" class="Symbol">:</a> <a id="978" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="983" href="Cubical.HITs.Truncation.Base.html#970" class="Bound">ℓ</a><a id="984" class="Symbol">)</a> <a id="986" class="Symbol">(</a><a id="987" href="Cubical.HITs.Truncation.Base.html#987" class="Bound">n</a> <a id="989" class="Symbol">:</a> <a id="991" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="992" class="Symbol">)</a> <a id="994" class="Symbol">→</a> <a id="996" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1001" href="Cubical.HITs.Truncation.Base.html#970" class="Bound">ℓ</a>
<a id="1003" href="Cubical.HITs.Truncation.Base.html#960" class="Function Operator">∥</a> <a id="1005" href="Cubical.HITs.Truncation.Base.html#1005" class="Bound">A</a> <a id="1007" href="Cubical.HITs.Truncation.Base.html#960" class="Function Operator">∥</a> <a id="1009" href="Cubical.HITs.Truncation.Base.html#1009" class="Bound">n</a> <a id="1011" class="Symbol">=</a> <a id="1013" href="Cubical.HITs.Truncation.Base.html#842" class="Function">hLevelTrunc</a> <a id="1025" href="Cubical.HITs.Truncation.Base.html#1009" class="Bound">n</a> <a id="1027" href="Cubical.HITs.Truncation.Base.html#1005" class="Bound">A</a>

<a id="∣_∣ₕ"></a><a id="1030" href="Cubical.HITs.Truncation.Base.html#1030" class="Function Operator">∣_∣ₕ</a> <a id="1035" class="Symbol">:</a> <a id="1037" class="Symbol">∀</a> <a id="1039" class="Symbol">{</a><a id="1040" href="Cubical.HITs.Truncation.Base.html#1040" class="Bound">ℓ</a><a id="1041" class="Symbol">}</a> <a id="1043" class="Symbol">{</a><a id="1044" href="Cubical.HITs.Truncation.Base.html#1044" class="Bound">A</a> <a id="1046" class="Symbol">:</a> <a id="1048" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1053" href="Cubical.HITs.Truncation.Base.html#1040" class="Bound">ℓ</a><a id="1054" class="Symbol">}</a> <a id="1056" class="Symbol">{</a><a id="1057" href="Cubical.HITs.Truncation.Base.html#1057" class="Bound">n</a> <a id="1059" class="Symbol">:</a> <a id="1061" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="1062" class="Symbol">}</a> <a id="1064" class="Symbol">→</a> <a id="1066" href="Cubical.HITs.Truncation.Base.html#1044" class="Bound">A</a> <a id="1068" class="Symbol">→</a> <a id="1070" href="Cubical.HITs.Truncation.Base.html#960" class="Function Operator">∥</a> <a id="1072" href="Cubical.HITs.Truncation.Base.html#1044" class="Bound">A</a> <a id="1074" href="Cubical.HITs.Truncation.Base.html#960" class="Function Operator">∥</a> <a id="1076" href="Cubical.HITs.Truncation.Base.html#1057" class="Bound">n</a>
<a id="1078" href="Cubical.HITs.Truncation.Base.html#1030" class="Function Operator">∣_∣ₕ</a> <a id="1083" class="Symbol">{</a><a id="1084" class="Argument">n</a> <a id="1086" class="Symbol">=</a> <a id="1088" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="1092" class="Symbol">}</a> <a id="1094" href="Cubical.HITs.Truncation.Base.html#1094" class="Bound">a</a> <a id="1096" class="Symbol">=</a> <a id="1098" href="Cubical.Data.Unit.Base.html#268" class="InductiveConstructor">tt*</a>
<a id="1102" href="Cubical.HITs.Truncation.Base.html#1030" class="Function Operator">∣_∣ₕ</a> <a id="1107" class="Symbol">{</a><a id="1108" class="Argument">n</a> <a id="1110" class="Symbol">=</a> <a id="1112" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1116" href="Cubical.HITs.Truncation.Base.html#1116" class="Bound">n</a><a id="1117" class="Symbol">}</a> <a id="1119" href="Cubical.HITs.Truncation.Base.html#1119" class="Bound">a</a> <a id="1121" class="Symbol">=</a> <a id="1123" href="Cubical.HITs.Truncation.Base.html#696" class="InductiveConstructor Operator">∣</a> <a id="1125" href="Cubical.HITs.Truncation.Base.html#1119" class="Bound">a</a> <a id="1127" href="Cubical.HITs.Truncation.Base.html#696" class="InductiveConstructor Operator">∣</a>

<a id="1130" class="Comment">-- Pointed version</a>
<a id="hLevelTrunc∙"></a><a id="1149" href="Cubical.HITs.Truncation.Base.html#1149" class="Function">hLevelTrunc∙</a> <a id="1162" class="Symbol">:</a> <a id="1164" class="Symbol">∀</a> <a id="1166" class="Symbol">{</a><a id="1167" href="Cubical.HITs.Truncation.Base.html#1167" class="Bound">ℓ</a><a id="1168" class="Symbol">}</a> <a id="1170" class="Symbol">(</a><a id="1171" href="Cubical.HITs.Truncation.Base.html#1171" class="Bound">n</a> <a id="1173" class="Symbol">:</a> <a id="1175" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="1176" class="Symbol">)</a> <a id="1178" class="Symbol">(</a><a id="1179" href="Cubical.HITs.Truncation.Base.html#1179" class="Bound">A</a> <a id="1181" class="Symbol">:</a> <a id="1183" href="Cubical.Foundations.Pointed.Base.html#464" class="Function">Pointed</a> <a id="1191" href="Cubical.HITs.Truncation.Base.html#1167" class="Bound">ℓ</a><a id="1192" class="Symbol">)</a> <a id="1194" class="Symbol">→</a> <a id="1196" href="Cubical.Foundations.Pointed.Base.html#464" class="Function">Pointed</a> <a id="1204" href="Cubical.HITs.Truncation.Base.html#1167" class="Bound">ℓ</a>
<a id="1206" href="Agda.Builtin.Sigma.html#234" class="Field">fst</a> <a id="1210" class="Symbol">(</a><a id="1211" href="Cubical.HITs.Truncation.Base.html#1149" class="Function">hLevelTrunc∙</a> <a id="1224" href="Cubical.HITs.Truncation.Base.html#1224" class="Bound">n</a> <a id="1226" href="Cubical.HITs.Truncation.Base.html#1226" class="Bound">A</a><a id="1227" class="Symbol">)</a> <a id="1229" class="Symbol">=</a> <a id="1231" href="Cubical.HITs.Truncation.Base.html#842" class="Function">hLevelTrunc</a> <a id="1243" href="Cubical.HITs.Truncation.Base.html#1224" class="Bound">n</a> <a id="1245" class="Symbol">(</a><a id="1246" href="Cubical.Foundations.Structure.html#514" class="Function">typ</a> <a id="1250" href="Cubical.HITs.Truncation.Base.html#1226" class="Bound">A</a><a id="1251" class="Symbol">)</a>
<a id="1253" href="Agda.Builtin.Sigma.html#246" class="Field">snd</a> <a id="1257" class="Symbol">(</a><a id="1258" href="Cubical.HITs.Truncation.Base.html#1149" class="Function">hLevelTrunc∙</a> <a id="1271" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="1276" href="Cubical.HITs.Truncation.Base.html#1276" class="Bound">A</a><a id="1277" class="Symbol">)</a> <a id="1279" class="Symbol">=</a> <a id="1281" href="Cubical.Data.Unit.Base.html#268" class="InductiveConstructor">tt*</a>
<a id="1285" href="Agda.Builtin.Sigma.html#246" class="Field">snd</a> <a id="1289" class="Symbol">(</a><a id="1290" href="Cubical.HITs.Truncation.Base.html#1149" class="Function">hLevelTrunc∙</a> <a id="1303" class="Symbol">(</a><a id="1304" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1308" href="Cubical.HITs.Truncation.Base.html#1308" class="Bound">n</a><a id="1309" class="Symbol">)</a> <a id="1311" href="Cubical.HITs.Truncation.Base.html#1311" class="Bound">A</a><a id="1312" class="Symbol">)</a> <a id="1314" class="Symbol">=</a> <a id="1316" href="Cubical.HITs.Truncation.Base.html#1030" class="Function Operator">∣</a> <a id="1318" href="Cubical.Foundations.Pointed.Base.html#540" class="Function">pt</a> <a id="1321" href="Cubical.HITs.Truncation.Base.html#1311" class="Bound">A</a> <a id="1323" href="Cubical.HITs.Truncation.Base.html#1030" class="Function Operator">∣ₕ</a>
</pre></body></html>