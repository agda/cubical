<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Reflection.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

Some basic utilities for reflection

-}</a>
<a id="45" class="Symbol">{-#</a> <a id="49" class="Keyword">OPTIONS</a> <a id="57" class="Pragma">--no-exact-split</a> <a id="74" class="Symbol">#-}</a>
<a id="78" class="Keyword">module</a> <a id="85" href="Cubical.Reflection.Base.html" class="Module">Cubical.Reflection.Base</a> <a id="109" class="Keyword">where</a>

<a id="116" class="Keyword">open</a> <a id="121" class="Keyword">import</a> <a id="128" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Cubical.Data.List.Base.html" class="Module">Cubical.Data.List.Base</a>
<a id="191" class="Keyword">open</a> <a id="196" class="Keyword">import</a> <a id="203" href="Cubical.Data.Nat.Base.html" class="Module">Cubical.Data.Nat.Base</a>

<a id="226" class="Keyword">import</a> <a id="233" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="257" class="Symbol">as</a> <a id="260" class="Module">R</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>

<a id="_&gt;&gt;=_"></a><a id="295" href="Cubical.Reflection.Base.html#295" class="Function Operator">_&gt;&gt;=_</a> <a id="301" class="Symbol">=</a> <a id="303" href="Agda.Builtin.Reflection.html#8710" class="Postulate">R.bindTC</a>
<a id="_&lt;|&gt;_"></a><a id="312" href="Cubical.Reflection.Base.html#312" class="Function Operator">_&lt;|&gt;_</a> <a id="318" class="Symbol">=</a> <a id="320" href="Agda.Builtin.Reflection.html#9044" class="Postulate">R.catchTC</a>

<a id="_&gt;&gt;_"></a><a id="331" href="Cubical.Reflection.Base.html#331" class="Function Operator">_&gt;&gt;_</a> <a id="336" class="Symbol">:</a> <a id="338" class="Symbol">∀</a> <a id="340" class="Symbol">{</a><a id="341" href="Cubical.Reflection.Base.html#341" class="Bound">ℓ</a> <a id="343" href="Cubical.Reflection.Base.html#343" class="Bound">ℓ&#39;</a><a id="345" class="Symbol">}</a> <a id="347" class="Symbol">{</a><a id="348" href="Cubical.Reflection.Base.html#348" class="Bound">A</a> <a id="350" class="Symbol">:</a> <a id="352" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="357" href="Cubical.Reflection.Base.html#341" class="Bound">ℓ</a><a id="358" class="Symbol">}</a> <a id="360" class="Symbol">{</a><a id="361" href="Cubical.Reflection.Base.html#361" class="Bound">B</a> <a id="363" class="Symbol">:</a> <a id="365" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="370" href="Cubical.Reflection.Base.html#343" class="Bound">ℓ&#39;</a><a id="372" class="Symbol">}</a> <a id="374" class="Symbol">→</a> <a id="376" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="381" href="Cubical.Reflection.Base.html#348" class="Bound">A</a> <a id="383" class="Symbol">→</a> <a id="385" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="390" href="Cubical.Reflection.Base.html#361" class="Bound">B</a> <a id="392" class="Symbol">→</a> <a id="394" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="399" href="Cubical.Reflection.Base.html#361" class="Bound">B</a>
<a id="401" href="Cubical.Reflection.Base.html#401" class="Bound">f</a> <a id="403" href="Cubical.Reflection.Base.html#331" class="Function Operator">&gt;&gt;</a> <a id="406" href="Cubical.Reflection.Base.html#406" class="Bound">g</a> <a id="408" class="Symbol">=</a> <a id="410" href="Cubical.Reflection.Base.html#401" class="Bound">f</a> <a id="412" href="Cubical.Reflection.Base.html#295" class="Function Operator">&gt;&gt;=</a> <a id="416" class="Symbol">λ</a> <a id="418" href="Cubical.Reflection.Base.html#418" class="Bound">_</a> <a id="420" class="Symbol">→</a> <a id="422" href="Cubical.Reflection.Base.html#406" class="Bound">g</a>

<a id="425" class="Keyword">infixl</a> <a id="432" class="Number">4</a> <a id="434" href="Cubical.Reflection.Base.html#295" class="Function Operator">_&gt;&gt;=_</a> <a id="440" href="Cubical.Reflection.Base.html#331" class="Function Operator">_&gt;&gt;_</a> <a id="445" href="Cubical.Reflection.Base.html#312" class="Function Operator">_&lt;|&gt;_</a>

<a id="liftTC"></a><a id="452" href="Cubical.Reflection.Base.html#452" class="Function">liftTC</a> <a id="459" class="Symbol">:</a> <a id="461" class="Symbol">∀</a> <a id="463" class="Symbol">{</a><a id="464" href="Cubical.Reflection.Base.html#464" class="Bound">ℓ</a> <a id="466" href="Cubical.Reflection.Base.html#466" class="Bound">ℓ&#39;</a><a id="468" class="Symbol">}</a> <a id="470" class="Symbol">{</a><a id="471" href="Cubical.Reflection.Base.html#471" class="Bound">A</a> <a id="473" class="Symbol">:</a> <a id="475" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="480" href="Cubical.Reflection.Base.html#464" class="Bound">ℓ</a><a id="481" class="Symbol">}</a> <a id="483" class="Symbol">{</a><a id="484" href="Cubical.Reflection.Base.html#484" class="Bound">B</a> <a id="486" class="Symbol">:</a> <a id="488" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="493" href="Cubical.Reflection.Base.html#466" class="Bound">ℓ&#39;</a><a id="495" class="Symbol">}</a> <a id="497" class="Symbol">→</a> <a id="499" class="Symbol">(</a><a id="500" href="Cubical.Reflection.Base.html#471" class="Bound">A</a> <a id="502" class="Symbol">→</a> <a id="504" href="Cubical.Reflection.Base.html#484" class="Bound">B</a><a id="505" class="Symbol">)</a> <a id="507" class="Symbol">→</a> <a id="509" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="514" href="Cubical.Reflection.Base.html#471" class="Bound">A</a> <a id="516" class="Symbol">→</a> <a id="518" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="523" href="Cubical.Reflection.Base.html#484" class="Bound">B</a>
<a id="525" href="Cubical.Reflection.Base.html#452" class="Function">liftTC</a> <a id="532" href="Cubical.Reflection.Base.html#532" class="Bound">f</a> <a id="534" href="Cubical.Reflection.Base.html#534" class="Bound">ta</a> <a id="537" class="Symbol">=</a> <a id="539" href="Cubical.Reflection.Base.html#534" class="Bound">ta</a> <a id="542" href="Cubical.Reflection.Base.html#295" class="Function Operator">&gt;&gt;=</a> <a id="546" class="Symbol">λ</a> <a id="548" href="Cubical.Reflection.Base.html#548" class="Bound">a</a> <a id="550" class="Symbol">→</a> <a id="552" href="Agda.Builtin.Reflection.html#8660" class="Postulate">R.returnTC</a> <a id="563" class="Symbol">(</a><a id="564" href="Cubical.Reflection.Base.html#532" class="Bound">f</a> <a id="566" href="Cubical.Reflection.Base.html#548" class="Bound">a</a><a id="567" class="Symbol">)</a>

<a id="v"></a><a id="570" href="Cubical.Reflection.Base.html#570" class="Function">v</a> <a id="572" class="Symbol">:</a> <a id="574" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="576" class="Symbol">→</a> <a id="578" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="585" href="Cubical.Reflection.Base.html#570" class="Function">v</a> <a id="587" href="Cubical.Reflection.Base.html#587" class="Bound">n</a> <a id="589" class="Symbol">=</a> <a id="591" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">R.var</a> <a id="597" href="Cubical.Reflection.Base.html#587" class="Bound">n</a> <a id="599" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="603" class="Keyword">pattern</a> <a id="varg"></a><a id="611" href="Cubical.Reflection.Base.html#611" class="InductiveConstructor">varg</a> <a id="616" href="Cubical.Reflection.Base.html#686" class="Bound">t</a> <a id="618" class="Symbol">=</a> <a id="620" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">R.arg</a> <a id="626" class="Symbol">(</a><a id="627" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">R.arg-info</a> <a id="638" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">R.visible</a> <a id="648" class="Symbol">(</a><a id="649" href="Agda.Builtin.Reflection.html#3463" class="InductiveConstructor">R.modality</a> <a id="660" href="Agda.Builtin.Reflection.html#3019" class="InductiveConstructor">R.relevant</a> <a id="671" href="Agda.Builtin.Reflection.html#3241" class="InductiveConstructor">R.quantity-ω</a><a id="683" class="Symbol">))</a> <a id="686" href="Cubical.Reflection.Base.html#686" class="Bound">t</a>
<a id="688" class="Keyword">pattern</a> <a id="harg"></a><a id="696" href="Cubical.Reflection.Base.html#696" class="InductiveConstructor">harg</a> <a id="701" class="Symbol">{</a>q <a id="704" class="Symbol">=</a> <a id="706" href="Cubical.Reflection.Base.html#763" class="Bound">q</a><a id="707" class="Symbol">}</a> <a id="709" href="Cubical.Reflection.Base.html#767" class="Bound">t</a> <a id="711" class="Symbol">=</a> <a id="713" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">R.arg</a> <a id="719" class="Symbol">(</a><a id="720" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">R.arg-info</a> <a id="731" href="Agda.Builtin.Reflection.html#2770" class="InductiveConstructor">R.hidden</a> <a id="740" class="Symbol">(</a><a id="741" href="Agda.Builtin.Reflection.html#3463" class="InductiveConstructor">R.modality</a> <a id="752" href="Agda.Builtin.Reflection.html#3019" class="InductiveConstructor">R.relevant</a> <a id="763" href="Cubical.Reflection.Base.html#763" class="Bound">q</a><a id="764" class="Symbol">))</a> <a id="767" href="Cubical.Reflection.Base.html#767" class="Bound">t</a>
<a id="769" class="Keyword">pattern</a> <a id="_v∷_"></a><a id="777" href="Cubical.Reflection.Base.html#777" class="InductiveConstructor Operator">_v∷_</a> <a id="782" href="Cubical.Reflection.Base.html#793" class="Bound">a</a> <a id="784" href="Cubical.Reflection.Base.html#797" class="Bound">l</a> <a id="786" class="Symbol">=</a> <a id="788" href="Cubical.Reflection.Base.html#611" class="InductiveConstructor">varg</a> <a id="793" href="Cubical.Reflection.Base.html#793" class="Bound">a</a> <a id="795" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="797" href="Cubical.Reflection.Base.html#797" class="Bound">l</a>
<a id="799" class="Keyword">pattern</a> <a id="_h∷_"></a><a id="807" href="Cubical.Reflection.Base.html#807" class="InductiveConstructor Operator">_h∷_</a> <a id="812" href="Cubical.Reflection.Base.html#823" class="Bound">a</a> <a id="814" href="Cubical.Reflection.Base.html#827" class="Bound">l</a> <a id="816" class="Symbol">=</a> <a id="818" href="Cubical.Reflection.Base.html#696" class="InductiveConstructor">harg</a> <a id="823" href="Cubical.Reflection.Base.html#823" class="Bound">a</a> <a id="825" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="827" href="Cubical.Reflection.Base.html#827" class="Bound">l</a>

<a id="830" class="Keyword">infixr</a> <a id="837" class="Number">5</a> <a id="839" href="Cubical.Reflection.Base.html#777" class="InductiveConstructor Operator">_v∷_</a> <a id="844" href="Cubical.Reflection.Base.html#807" class="InductiveConstructor Operator">_h∷_</a>

<a id="vlam"></a><a id="850" href="Cubical.Reflection.Base.html#850" class="Function">vlam</a> <a id="855" class="Symbol">:</a> <a id="857" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="864" class="Symbol">→</a> <a id="866" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a> <a id="873" class="Symbol">→</a> <a id="875" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="882" href="Cubical.Reflection.Base.html#850" class="Function">vlam</a> <a id="887" href="Cubical.Reflection.Base.html#887" class="Bound">str</a> <a id="891" href="Cubical.Reflection.Base.html#891" class="Bound">t</a> <a id="893" class="Symbol">=</a> <a id="895" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">R.lam</a> <a id="901" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">R.visible</a> <a id="911" class="Symbol">(</a><a id="912" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">R.abs</a> <a id="918" href="Cubical.Reflection.Base.html#887" class="Bound">str</a> <a id="922" href="Cubical.Reflection.Base.html#891" class="Bound">t</a><a id="923" class="Symbol">)</a>

<a id="hlam"></a><a id="926" href="Cubical.Reflection.Base.html#926" class="Function">hlam</a> <a id="931" class="Symbol">:</a> <a id="933" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="940" class="Symbol">→</a> <a id="942" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a> <a id="949" class="Symbol">→</a> <a id="951" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="958" href="Cubical.Reflection.Base.html#926" class="Function">hlam</a> <a id="963" href="Cubical.Reflection.Base.html#963" class="Bound">str</a> <a id="967" href="Cubical.Reflection.Base.html#967" class="Bound">t</a> <a id="969" class="Symbol">=</a> <a id="971" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">R.lam</a> <a id="977" href="Agda.Builtin.Reflection.html#2770" class="InductiveConstructor">R.hidden</a> <a id="986" class="Symbol">(</a><a id="987" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">R.abs</a> <a id="993" href="Cubical.Reflection.Base.html#963" class="Bound">str</a> <a id="997" href="Cubical.Reflection.Base.html#967" class="Bound">t</a><a id="998" class="Symbol">)</a>

<a id="newMeta"></a><a id="1001" href="Cubical.Reflection.Base.html#1001" class="Function">newMeta</a> <a id="1009" class="Symbol">=</a> <a id="1011" href="Agda.Builtin.Reflection.html#8929" class="Postulate">R.checkType</a> <a id="1023" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">R.unknown</a>

<a id="makeAuxiliaryDef"></a><a id="1034" href="Cubical.Reflection.Base.html#1034" class="Function">makeAuxiliaryDef</a> <a id="1051" class="Symbol">:</a> <a id="1053" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1060" class="Symbol">→</a> <a id="1062" href="Agda.Builtin.Reflection.html#5064" class="Function">R.Type</a> <a id="1069" class="Symbol">→</a> <a id="1071" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a> <a id="1078" class="Symbol">→</a> <a id="1080" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="1085" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="1092" href="Cubical.Reflection.Base.html#1034" class="Function">makeAuxiliaryDef</a> <a id="1109" href="Cubical.Reflection.Base.html#1109" class="Bound">s</a> <a id="1111" href="Cubical.Reflection.Base.html#1111" class="Bound">ty</a> <a id="1114" href="Cubical.Reflection.Base.html#1114" class="Bound">term</a> <a id="1119" class="Symbol">=</a>
  <a id="1123" href="Agda.Builtin.Reflection.html#9430" class="Postulate">R.freshName</a> <a id="1135" href="Cubical.Reflection.Base.html#1109" class="Bound">s</a> <a id="1137" href="Cubical.Reflection.Base.html#295" class="Function Operator">&gt;&gt;=</a> <a id="1141" class="Symbol">λ</a> <a id="1143" href="Cubical.Reflection.Base.html#1143" class="Bound">name</a> <a id="1148" class="Symbol">→</a>
  <a id="1152" href="Agda.Builtin.Reflection.html#9468" class="Postulate">R.declareDef</a> <a id="1165" class="Symbol">(</a><a id="1166" href="Cubical.Reflection.Base.html#611" class="InductiveConstructor">varg</a> <a id="1171" href="Cubical.Reflection.Base.html#1143" class="Bound">name</a><a id="1175" class="Symbol">)</a> <a id="1177" href="Cubical.Reflection.Base.html#1111" class="Bound">ty</a> <a id="1180" href="Cubical.Reflection.Base.html#331" class="Function Operator">&gt;&gt;</a>
  <a id="1185" href="Agda.Builtin.Reflection.html#9683" class="Postulate">R.defineFun</a> <a id="1197" href="Cubical.Reflection.Base.html#1143" class="Bound">name</a> <a id="1202" href="Cubical.Data.List.Base.html#299" class="Function Operator">[</a> <a id="1204" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">R.clause</a> <a id="1213" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1216" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1219" href="Cubical.Reflection.Base.html#1114" class="Bound">term</a> <a id="1224" href="Cubical.Data.List.Base.html#299" class="Function Operator">]</a> <a id="1226" href="Cubical.Reflection.Base.html#331" class="Function Operator">&gt;&gt;</a>
  <a id="1231" href="Agda.Builtin.Reflection.html#8660" class="Postulate">R.returnTC</a> <a id="1242" class="Symbol">(</a><a id="1243" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">R.def</a> <a id="1249" href="Cubical.Reflection.Base.html#1143" class="Bound">name</a> <a id="1254" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1256" class="Symbol">)</a>
</pre></body></html>