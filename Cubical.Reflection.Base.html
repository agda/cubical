<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Reflection.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

Some basic utilities for reflection

-}</a>
<a id="45" class="Symbol">{-#</a> <a id="49" class="Keyword">OPTIONS</a> <a id="57" class="Pragma">--no-exact-split</a> <a id="74" class="Pragma">--safe</a> <a id="81" class="Symbol">#-}</a>
<a id="85" class="Keyword">module</a> <a id="92" href="Cubical.Reflection.Base.html" class="Module">Cubical.Reflection.Base</a> <a id="116" class="Keyword">where</a>

<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="163" class="Keyword">open</a> <a id="168" class="Keyword">import</a> <a id="175" href="Cubical.Data.List.Base.html" class="Module">Cubical.Data.List.Base</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Cubical.Data.Nat.Base.html" class="Module">Cubical.Data.Nat.Base</a>

<a id="233" class="Keyword">import</a> <a id="240" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="264" class="Symbol">as</a> <a id="267" class="Module">R</a>
<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>

<a id="_&gt;&gt;=_"></a><a id="302" href="Cubical.Reflection.Base.html#302" class="Function Operator">_&gt;&gt;=_</a> <a id="308" class="Symbol">=</a> <a id="310" href="Agda.Builtin.Reflection.html#8695" class="Postulate">R.bindTC</a>
<a id="_&lt;|&gt;_"></a><a id="319" href="Cubical.Reflection.Base.html#319" class="Function Operator">_&lt;|&gt;_</a> <a id="325" class="Symbol">=</a> <a id="327" href="Agda.Builtin.Reflection.html#9029" class="Postulate">R.catchTC</a>

<a id="_&gt;&gt;_"></a><a id="338" href="Cubical.Reflection.Base.html#338" class="Function Operator">_&gt;&gt;_</a> <a id="343" class="Symbol">:</a> <a id="345" class="Symbol">∀</a> <a id="347" class="Symbol">{</a><a id="348" href="Cubical.Reflection.Base.html#348" class="Bound">ℓ</a> <a id="350" href="Cubical.Reflection.Base.html#350" class="Bound">ℓ&#39;</a><a id="352" class="Symbol">}</a> <a id="354" class="Symbol">{</a><a id="355" href="Cubical.Reflection.Base.html#355" class="Bound">A</a> <a id="357" class="Symbol">:</a> <a id="359" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="364" href="Cubical.Reflection.Base.html#348" class="Bound">ℓ</a><a id="365" class="Symbol">}</a> <a id="367" class="Symbol">{</a><a id="368" href="Cubical.Reflection.Base.html#368" class="Bound">B</a> <a id="370" class="Symbol">:</a> <a id="372" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="377" href="Cubical.Reflection.Base.html#350" class="Bound">ℓ&#39;</a><a id="379" class="Symbol">}</a> <a id="381" class="Symbol">→</a> <a id="383" href="Agda.Builtin.Reflection.html#8602" class="Postulate">R.TC</a> <a id="388" href="Cubical.Reflection.Base.html#355" class="Bound">A</a> <a id="390" class="Symbol">→</a> <a id="392" href="Agda.Builtin.Reflection.html#8602" class="Postulate">R.TC</a> <a id="397" href="Cubical.Reflection.Base.html#368" class="Bound">B</a> <a id="399" class="Symbol">→</a> <a id="401" href="Agda.Builtin.Reflection.html#8602" class="Postulate">R.TC</a> <a id="406" href="Cubical.Reflection.Base.html#368" class="Bound">B</a>
<a id="408" href="Cubical.Reflection.Base.html#408" class="Bound">f</a> <a id="410" href="Cubical.Reflection.Base.html#338" class="Function Operator">&gt;&gt;</a> <a id="413" href="Cubical.Reflection.Base.html#413" class="Bound">g</a> <a id="415" class="Symbol">=</a> <a id="417" href="Cubical.Reflection.Base.html#408" class="Bound">f</a> <a id="419" href="Cubical.Reflection.Base.html#302" class="Function Operator">&gt;&gt;=</a> <a id="423" class="Symbol">λ</a> <a id="425" href="Cubical.Reflection.Base.html#425" class="Bound">_</a> <a id="427" class="Symbol">→</a> <a id="429" href="Cubical.Reflection.Base.html#413" class="Bound">g</a>

<a id="432" class="Keyword">infixl</a> <a id="439" class="Number">4</a> <a id="441" href="Cubical.Reflection.Base.html#302" class="Function Operator">_&gt;&gt;=_</a> <a id="447" href="Cubical.Reflection.Base.html#338" class="Function Operator">_&gt;&gt;_</a> <a id="452" href="Cubical.Reflection.Base.html#319" class="Function Operator">_&lt;|&gt;_</a>

<a id="liftTC"></a><a id="459" href="Cubical.Reflection.Base.html#459" class="Function">liftTC</a> <a id="466" class="Symbol">:</a> <a id="468" class="Symbol">∀</a> <a id="470" class="Symbol">{</a><a id="471" href="Cubical.Reflection.Base.html#471" class="Bound">ℓ</a> <a id="473" href="Cubical.Reflection.Base.html#473" class="Bound">ℓ&#39;</a><a id="475" class="Symbol">}</a> <a id="477" class="Symbol">{</a><a id="478" href="Cubical.Reflection.Base.html#478" class="Bound">A</a> <a id="480" class="Symbol">:</a> <a id="482" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="487" href="Cubical.Reflection.Base.html#471" class="Bound">ℓ</a><a id="488" class="Symbol">}</a> <a id="490" class="Symbol">{</a><a id="491" href="Cubical.Reflection.Base.html#491" class="Bound">B</a> <a id="493" class="Symbol">:</a> <a id="495" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="500" href="Cubical.Reflection.Base.html#473" class="Bound">ℓ&#39;</a><a id="502" class="Symbol">}</a> <a id="504" class="Symbol">→</a> <a id="506" class="Symbol">(</a><a id="507" href="Cubical.Reflection.Base.html#478" class="Bound">A</a> <a id="509" class="Symbol">→</a> <a id="511" href="Cubical.Reflection.Base.html#491" class="Bound">B</a><a id="512" class="Symbol">)</a> <a id="514" class="Symbol">→</a> <a id="516" href="Agda.Builtin.Reflection.html#8602" class="Postulate">R.TC</a> <a id="521" href="Cubical.Reflection.Base.html#478" class="Bound">A</a> <a id="523" class="Symbol">→</a> <a id="525" href="Agda.Builtin.Reflection.html#8602" class="Postulate">R.TC</a> <a id="530" href="Cubical.Reflection.Base.html#491" class="Bound">B</a>
<a id="532" href="Cubical.Reflection.Base.html#459" class="Function">liftTC</a> <a id="539" href="Cubical.Reflection.Base.html#539" class="Bound">f</a> <a id="541" href="Cubical.Reflection.Base.html#541" class="Bound">ta</a> <a id="544" class="Symbol">=</a> <a id="546" href="Cubical.Reflection.Base.html#541" class="Bound">ta</a> <a id="549" href="Cubical.Reflection.Base.html#302" class="Function Operator">&gt;&gt;=</a> <a id="553" class="Symbol">λ</a> <a id="555" href="Cubical.Reflection.Base.html#555" class="Bound">a</a> <a id="557" class="Symbol">→</a> <a id="559" href="Agda.Builtin.Reflection.html#8645" class="Postulate">R.returnTC</a> <a id="570" class="Symbol">(</a><a id="571" href="Cubical.Reflection.Base.html#539" class="Bound">f</a> <a id="573" href="Cubical.Reflection.Base.html#555" class="Bound">a</a><a id="574" class="Symbol">)</a>

<a id="v"></a><a id="577" href="Cubical.Reflection.Base.html#577" class="Function">v</a> <a id="579" class="Symbol">:</a> <a id="581" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="583" class="Symbol">→</a> <a id="585" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="592" href="Cubical.Reflection.Base.html#577" class="Function">v</a> <a id="594" href="Cubical.Reflection.Base.html#594" class="Bound">n</a> <a id="596" class="Symbol">=</a> <a id="598" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">R.var</a> <a id="604" href="Cubical.Reflection.Base.html#594" class="Bound">n</a> <a id="606" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="610" class="Keyword">pattern</a> <a id="varg"></a><a id="618" href="Cubical.Reflection.Base.html#618" class="InductiveConstructor">varg</a> <a id="623" href="Cubical.Reflection.Base.html#693" class="Bound">t</a> <a id="625" class="Symbol">=</a> <a id="627" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">R.arg</a> <a id="633" class="Symbol">(</a><a id="634" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">R.arg-info</a> <a id="645" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">R.visible</a> <a id="655" class="Symbol">(</a><a id="656" href="Agda.Builtin.Reflection.html#3463" class="InductiveConstructor">R.modality</a> <a id="667" href="Agda.Builtin.Reflection.html#3019" class="InductiveConstructor">R.relevant</a> <a id="678" href="Agda.Builtin.Reflection.html#3241" class="InductiveConstructor">R.quantity-ω</a><a id="690" class="Symbol">))</a> <a id="693" href="Cubical.Reflection.Base.html#693" class="Bound">t</a>
<a id="695" class="Keyword">pattern</a> <a id="harg"></a><a id="703" href="Cubical.Reflection.Base.html#703" class="InductiveConstructor">harg</a> <a id="708" class="Symbol">{</a>q <a id="711" class="Symbol">=</a> <a id="713" href="Cubical.Reflection.Base.html#770" class="Bound">q</a><a id="714" class="Symbol">}</a> <a id="716" href="Cubical.Reflection.Base.html#774" class="Bound">t</a> <a id="718" class="Symbol">=</a> <a id="720" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">R.arg</a> <a id="726" class="Symbol">(</a><a id="727" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">R.arg-info</a> <a id="738" href="Agda.Builtin.Reflection.html#2770" class="InductiveConstructor">R.hidden</a> <a id="747" class="Symbol">(</a><a id="748" href="Agda.Builtin.Reflection.html#3463" class="InductiveConstructor">R.modality</a> <a id="759" href="Agda.Builtin.Reflection.html#3019" class="InductiveConstructor">R.relevant</a> <a id="770" href="Cubical.Reflection.Base.html#770" class="Bound">q</a><a id="771" class="Symbol">))</a> <a id="774" href="Cubical.Reflection.Base.html#774" class="Bound">t</a>
<a id="776" class="Keyword">pattern</a> <a id="_v∷_"></a><a id="784" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">_v∷_</a> <a id="789" href="Cubical.Reflection.Base.html#800" class="Bound">a</a> <a id="791" href="Cubical.Reflection.Base.html#804" class="Bound">l</a> <a id="793" class="Symbol">=</a> <a id="795" href="Cubical.Reflection.Base.html#618" class="InductiveConstructor">varg</a> <a id="800" href="Cubical.Reflection.Base.html#800" class="Bound">a</a> <a id="802" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="804" href="Cubical.Reflection.Base.html#804" class="Bound">l</a>
<a id="806" class="Keyword">pattern</a> <a id="_h∷_"></a><a id="814" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">_h∷_</a> <a id="819" href="Cubical.Reflection.Base.html#830" class="Bound">a</a> <a id="821" href="Cubical.Reflection.Base.html#834" class="Bound">l</a> <a id="823" class="Symbol">=</a> <a id="825" href="Cubical.Reflection.Base.html#703" class="InductiveConstructor">harg</a> <a id="830" href="Cubical.Reflection.Base.html#830" class="Bound">a</a> <a id="832" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="834" href="Cubical.Reflection.Base.html#834" class="Bound">l</a>

<a id="837" class="Keyword">infixr</a> <a id="844" class="Number">5</a> <a id="846" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">_v∷_</a> <a id="851" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">_h∷_</a>

<a id="vlam"></a><a id="857" href="Cubical.Reflection.Base.html#857" class="Function">vlam</a> <a id="862" class="Symbol">:</a> <a id="864" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="871" class="Symbol">→</a> <a id="873" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a> <a id="880" class="Symbol">→</a> <a id="882" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="889" href="Cubical.Reflection.Base.html#857" class="Function">vlam</a> <a id="894" href="Cubical.Reflection.Base.html#894" class="Bound">str</a> <a id="898" href="Cubical.Reflection.Base.html#898" class="Bound">t</a> <a id="900" class="Symbol">=</a> <a id="902" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">R.lam</a> <a id="908" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">R.visible</a> <a id="918" class="Symbol">(</a><a id="919" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">R.abs</a> <a id="925" href="Cubical.Reflection.Base.html#894" class="Bound">str</a> <a id="929" href="Cubical.Reflection.Base.html#898" class="Bound">t</a><a id="930" class="Symbol">)</a>

<a id="hlam"></a><a id="933" href="Cubical.Reflection.Base.html#933" class="Function">hlam</a> <a id="938" class="Symbol">:</a> <a id="940" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="947" class="Symbol">→</a> <a id="949" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a> <a id="956" class="Symbol">→</a> <a id="958" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="965" href="Cubical.Reflection.Base.html#933" class="Function">hlam</a> <a id="970" href="Cubical.Reflection.Base.html#970" class="Bound">str</a> <a id="974" href="Cubical.Reflection.Base.html#974" class="Bound">t</a> <a id="976" class="Symbol">=</a> <a id="978" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">R.lam</a> <a id="984" href="Agda.Builtin.Reflection.html#2770" class="InductiveConstructor">R.hidden</a> <a id="993" class="Symbol">(</a><a id="994" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">R.abs</a> <a id="1000" href="Cubical.Reflection.Base.html#970" class="Bound">str</a> <a id="1004" href="Cubical.Reflection.Base.html#974" class="Bound">t</a><a id="1005" class="Symbol">)</a>

<a id="newMeta"></a><a id="1008" href="Cubical.Reflection.Base.html#1008" class="Function">newMeta</a> <a id="1016" class="Symbol">=</a> <a id="1018" href="Agda.Builtin.Reflection.html#8914" class="Postulate">R.checkType</a> <a id="1030" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">R.unknown</a>

<a id="makeAuxiliaryDef"></a><a id="1041" href="Cubical.Reflection.Base.html#1041" class="Function">makeAuxiliaryDef</a> <a id="1058" class="Symbol">:</a> <a id="1060" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1067" class="Symbol">→</a> <a id="1069" href="Agda.Builtin.Reflection.html#5064" class="Function">R.Type</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="Agda.Builtin.Reflection.html#8602" class="Postulate">R.TC</a> <a id="1092" href="Agda.Builtin.Reflection.html#4993" class="Datatype">R.Term</a>
<a id="1099" href="Cubical.Reflection.Base.html#1041" class="Function">makeAuxiliaryDef</a> <a id="1116" href="Cubical.Reflection.Base.html#1116" class="Bound">s</a> <a id="1118" href="Cubical.Reflection.Base.html#1118" class="Bound">ty</a> <a id="1121" href="Cubical.Reflection.Base.html#1121" class="Bound">term</a> <a id="1126" class="Symbol">=</a>
  <a id="1130" href="Agda.Builtin.Reflection.html#9415" class="Postulate">R.freshName</a> <a id="1142" href="Cubical.Reflection.Base.html#1116" class="Bound">s</a> <a id="1144" href="Cubical.Reflection.Base.html#302" class="Function Operator">&gt;&gt;=</a> <a id="1148" class="Symbol">λ</a> <a id="1150" href="Cubical.Reflection.Base.html#1150" class="Bound">name</a> <a id="1155" class="Symbol">→</a>
  <a id="1159" href="Agda.Builtin.Reflection.html#9453" class="Postulate">R.declareDef</a> <a id="1172" class="Symbol">(</a><a id="1173" href="Cubical.Reflection.Base.html#618" class="InductiveConstructor">varg</a> <a id="1178" href="Cubical.Reflection.Base.html#1150" class="Bound">name</a><a id="1182" class="Symbol">)</a> <a id="1184" href="Cubical.Reflection.Base.html#1118" class="Bound">ty</a> <a id="1187" href="Cubical.Reflection.Base.html#338" class="Function Operator">&gt;&gt;</a>
  <a id="1192" href="Agda.Builtin.Reflection.html#9649" class="Postulate">R.defineFun</a> <a id="1204" href="Cubical.Reflection.Base.html#1150" class="Bound">name</a> <a id="1209" href="Cubical.Data.List.Base.html#282" class="Function Operator">[</a> <a id="1211" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">R.clause</a> <a id="1220" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1223" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1226" href="Cubical.Reflection.Base.html#1121" class="Bound">term</a> <a id="1231" href="Cubical.Data.List.Base.html#282" class="Function Operator">]</a> <a id="1233" href="Cubical.Reflection.Base.html#338" class="Function Operator">&gt;&gt;</a>
  <a id="1238" href="Agda.Builtin.Reflection.html#8645" class="Postulate">R.returnTC</a> <a id="1249" class="Symbol">(</a><a id="1250" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">R.def</a> <a id="1256" href="Cubical.Reflection.Base.html#1150" class="Bound">name</a> <a id="1261" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1263" class="Symbol">)</a>
</pre></body></html>