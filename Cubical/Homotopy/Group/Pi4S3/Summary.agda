{-

This file contains a summary of the proofs that Ï€â‚„(SÂ³) â‰¡ â„¤/2â„¤

- The first proof "Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤" closely follows Brunerie's thesis.

- The second proof "Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤-direct" is much more direct and avoids
  all of the more advanced constructions in chapters 4-6 in Brunerie's
  thesis.

- The third proof "Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤-computation" uses ideas from the direct
  proof to define an alternative Brunerie number which computes to -2
  in a few seconds and the main result is hence obtained by computation
  as conjectured on page 85 of Brunerie's thesis.

The --lossy-unification flag is used to speed up type checking.
The file still type checks without it, but it's a lot slower (about 10 times).

-}
{-# OPTIONS --lossy-unification #-}
module Cubical.Homotopy.Group.Pi4S3.Summary where

open import Cubical.Foundations.Prelude
open import Cubical.Foundations.Pointed

open import Cubical.Data.Nat.Base
open import Cubical.Data.Int.Base
open import Cubical.Data.Sigma.Base

open import Cubical.HITs.Sn
open import Cubical.HITs.SetTruncation

open import Cubical.Homotopy.HopfInvariant.Base
open import Cubical.Homotopy.HopfInvariant.Homomorphism
open import Cubical.Homotopy.HopfInvariant.HopfMap
open import Cubical.Homotopy.HopfInvariant.Brunerie
open import Cubical.Homotopy.Whitehead
open import Cubical.Homotopy.Group.Base hiding (Ï€)
open import Cubical.Homotopy.Group.Pi3S2
open import Cubical.Homotopy.Group.Pi4S3.BrunerieNumber
open import Cubical.Homotopy.Group.Pi4S3.DirectProof as DirectProof

open import Cubical.Algebra.Group.Base
open import Cubical.Algebra.Group.Instances.Bool
open import Cubical.Algebra.Group.Morphisms
open import Cubical.Algebra.Group.GroupPath
open import Cubical.Algebra.Group.MorphismProperties
open import Cubical.Algebra.Group.Instances.Int
open import Cubical.Algebra.Group.Instances.IntMod
open import Cubical.Algebra.Group.ZAction


-- Homotopy groups (shifted version of Ï€'Gr to get nicer numbering)
Ï€ : â„• â†’ Pointedâ‚€ â†’ Groupâ‚€
Ï€ n X = Ï€'Gr (predâ„• n) X


-- Nicer notation for the spheres (as pointed types)
ğ•ŠÂ² ğ•ŠÂ³ : Pointedâ‚€
ğ•ŠÂ² = Sâ‚Šâˆ™ 2
ğ•ŠÂ³ = Sâ‚Šâˆ™ 3


-- The Brunerie number; defined in Cubical.Homotopy.Group.Pi4S3.BrunerieNumber
-- as "abs (HopfInvariant-Ï€' 0 ([ (âˆ£ idfunâˆ™ _ âˆ£â‚‚ , âˆ£ idfunâˆ™ _ âˆ£â‚‚) ]Ã—))"
Î² : â„•
Î² = Brunerie


-- The connection to Ï€â‚„(SÂ³) is then also proved in the BrunerieNumber
-- file following Corollary 3.4.5 in Guillaume Brunerie's PhD thesis.
Î²Spec : GroupEquiv (Ï€ 4 ğ•ŠÂ³) (â„¤Group/ Î²)
Î²Spec = BrunerieIso


-- Ideally one could prove that Î² is 2 by normalization, but this does
-- not seem to terminate before we run out of memory. To try normalize
-- this use "C-u C-c C-n Î²â‰¡2" (which normalizes the term, ignoring
-- abstract's). So instead we prove this by hand as in the second half
-- of Guillaume's thesis.
Î²â‰¡2 : Î² â‰¡ 2
Î²â‰¡2 = Brunerieâ‰¡2


-- This involves a lot of theory, for example that Ï€â‚ƒ(SÂ²) â‰ƒ â„¤Group where
-- the underlying map is induced by the Hopf invariant (which involves
-- the cup product on cohomology).
_ : GroupEquiv (Ï€ 3 ğ•ŠÂ²) â„¤Group
_ = hopfInvariantEquiv

-- Which is a consequence of the fact that Ï€â‚ƒ(SÂ²) is generated by the
-- Hopf map.
_ : genâ‚-by (Ï€ 3 ğ•ŠÂ²) âˆ£ HopfMap âˆ£â‚‚
_ = Ï€â‚‚SÂ³-gen-by-HopfMap

-- etc. For more details see the proof of "Brunerieâ‰¡2".


-- Combining all of this gives us the desired equivalence of groups:
Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤ : GroupEquiv (Ï€ 4 ğ•ŠÂ³) (â„¤Group/ 2)
Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤ = subst (GroupEquiv (Ï€ 4 ğ•ŠÂ³)) (cong â„¤Group/_ Î²â‰¡2) Î²Spec


-- By the SIP this induces an equality of groups:
Ï€â‚„SÂ³â‰¡â„¤/2â„¤ : Ï€ 4 ğ•ŠÂ³ â‰¡ â„¤Group/ 2
Ï€â‚„SÂ³â‰¡â„¤/2â„¤ = GroupPath _ _ .fst Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤


-- As a sanity check we also establish the equality with Bool:
Ï€â‚„SÂ³â‰¡Bool : Ï€ 4 ğ•ŠÂ³ â‰¡ BoolGroup
Ï€â‚„SÂ³â‰¡Bool = Ï€â‚„SÂ³â‰¡â„¤/2â„¤ âˆ™ GroupPath _ _ .fst (GroupIsoâ†’GroupEquiv â„¤Group/2â‰…Bool)


-- We also have a much more direct proof in Cubical.Homotopy.Group.Pi4S3.DirectProof,
-- not relying on any of the more advanced constructions in chapters
-- 4-6 in Brunerie's thesis (but still using chapters 1-3 for the
-- construction). For details see the header of that file.

Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤-direct : GroupEquiv (Ï€ 4 ğ•ŠÂ³) (â„¤Group/ 2)
Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤-direct = DirectProof.BrunerieGroupEquiv


-- This direct proof allows us to define a much simplified version of
-- the Brunerie number:
Î²' : â„¤
Î²' = fst DirectProof.computer Î·â‚ƒ'

-- This number computes definitionally to -2 in a few seconds!
Î²'â‰¡-2 : Î²' â‰¡ -2
Î²'â‰¡-2 = refl

-- As a sanity check we have proved (commented as typechecking is quite slow):
-- Î²'Spec : GroupEquiv (Ï€ 4 ğ•ŠÂ³) (â„¤Group/ abs Î²')
-- Î²'Spec = DirectProof.BrunerieGroupEquiv'

-- Combining all of this gives us the desired equivalence of groups by
-- computation as conjectured in Brunerie's thesis:
Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤-computation : GroupEquiv (Ï€ 4 ğ•ŠÂ³) (â„¤Group/ 2)
Ï€â‚„SÂ³â‰ƒâ„¤/2â„¤-computation = DirectProof.BrunerieGroupEquiv''
